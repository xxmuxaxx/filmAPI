(this.webpackJsonpfilmapi=this.webpackJsonpfilmapi||[]).push([[0],{109:function(e,a,t){e.exports={Search:"Search_Search__di4ea",Dropdown:"Search_Dropdown__2lVVF",Link:"Search_Link__1EHio"}},110:function(e,a,t){e.exports={FilmCard:"FilmCard_FilmCard__2XgCu",FilmCardHover:"FilmCard_FilmCardHover__2yfUH",FilmInfo:"FilmCard_FilmInfo__BovdC"}},111:function(e,a,t){e.exports={form:"DeleteFilm_form__1sx6O",input:"DeleteFilm_input__rF2rW",message:"DeleteFilm_message__CdqAR"}},136:function(e,a,t){e.exports={Button:"Button_Button__MQwo6",error:"Button_error__2DMFG",success:"Button_success__2fmAL",primary:"Button_primary__ls6AW"}},137:function(e,a,t){e.exports={LoaderWrapper:"Loader_LoaderWrapper__3haqL",Loader:"Loader_Loader__2oUp4","lds-dual-ring":"Loader_lds-dual-ring__2hE87"}},138:function(e,a,t){e.exports={FilmsContainer:"FilmsContainer_FilmsContainer__3_xWo",FilmLibWrapper:"FilmsContainer_FilmLibWrapper__3KE48",show:"FilmsContainer_show__2Vcp8"}},183:function(e,a,t){e.exports={Input:"Input_Input__1C9aY"}},184:function(e,a,t){e.exports={Layout:"Layout_Layout__3gHwl"}},185:function(e,a,t){e.exports={FilmsContainer:"IndexPage_FilmsContainer__1Vx8o"}},209:function(e,a,t){e.exports=t(343)},30:function(e,a,t){e.exports={FilmDetail:"FilmDetail_FilmDetail__Pavxa",FilmDetailTop:"FilmDetail_FilmDetailTop__1ll3G",FilmDetailImageWrapper:"FilmDetail_FilmDetailImageWrapper__1U1Ez",FilmDetailImage:"FilmDetail_FilmDetailImage__31692",FilmDetailRight:"FilmDetail_FilmDetailRight__2D7kY",FilmDetailField:"FilmDetail_FilmDetailField__4jO6v",FilmDetailFieldItem:"FilmDetail_FilmDetailFieldItem__3fbd7",FilmDetailFieldItemName:"FilmDetail_FilmDetailFieldItemName__T4jus",FilmDetailFieldItemValue:"FilmDetail_FilmDetailFieldItemValue__CBBY9",FilmDetailBottom:"FilmDetail_FilmDetailBottom__39Cwz",FilmDetailDescription:"FilmDetail_FilmDetailDescription__2EXpy",FilmDetailLink:"FilmDetail_FilmDetailLink__1wT6Z",id:"FilmDetail_id__1_PtY"}},31:function(e,a,t){e.exports={form:"EditFilm_form__2eg_g",input:"EditFilm_input__36SrA",message:"EditFilm_message__23vGL"}},342:function(e,a,t){},343:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(14),i=t.n(l),c=t(13),m=t(22),o=t(18),s=t(181),u=t(397),p=t(16),d={items:[],activeItem:null,isLoaded:!1,totalItems:0},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FILMS":return Object(p.a)(Object(p.a)({},e),{},{items:a.payload.items,totalItems:a.payload.totalItems,isLoaded:!0});case"SET_ACTIVE_FILM":return Object(p.a)(Object(p.a)({},e),{},{activeItem:a.payload});case"SET_LOADED":return Object(p.a)(Object(p.a)({},e),{},{isLoaded:a.payload});default:return e}},v={page:1,pageSize:12},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_PAGE":return Object(p.a)(Object(p.a)({},e),{},{page:a.payload});default:return e}},_={searchText:"",searchItems:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_SEARCH_TEXT":return Object(p.a)(Object(p.a)({},e),{},{searchText:a.payload});case"SET_SEARCH_ITEMS":return Object(p.a)(Object(p.a)({},e),{},{searchItems:a.payload});default:return e}},h={user:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_USER":return Object(p.a)(Object(p.a)({},e),{},{user:a.payload});case"SET_USER_AVATAR":return Object(p.a)(Object(p.a)({},e),{},{user:Object(p.a)(Object(p.a)({},e.user),{},{avatar:a.payload})});default:return e}},N=Object(o.c)({films:E,pagination:f,search:b,users:g,form:u.a}),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,y=Object(o.e)(N,F(Object(o.a)(s.a))),w=t(17),I=t(12),D=function(){return r.a.createElement(m.c,{to:"/",className:"logo"},r.a.createElement("svg",{className:"logo__svg",viewBox:"0 0 80 67",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M65.356 38.7048H61.3287V33.9083C66.8456 30.8006 70.5823 24.8877 70.5823 18.115C70.5823 8.1263 62.4598 0 52.4757 0C44.4803 0 37.6834 5.21366 35.2912 12.4196C32.8987 5.21366 26.102 0.000222284 18.1066 0.000222284C8.12253 0.000222284 0 8.12652 0 18.115C0 24.8877 3.7367 30.8004 9.25339 33.9081V67H61.3285V59.0652H65.9613L80 66.6146V31.1963L65.356 38.7048ZM24.4999 27.9578L18.1066 24.1024L11.7134 27.9578L13.4027 20.6834L7.76196 15.7915L15.1994 15.151L18.1066 8.27242L21.0137 15.151L28.4511 15.7915L22.8104 20.6834L24.4999 27.9578ZM31.0449 30.7702C32.9476 28.8235 34.4144 26.4513 35.2912 23.8104C36.1679 26.451 37.6347 28.8235 39.5374 30.7702H31.0449ZM57.1796 20.6834L58.8689 27.9578L52.4757 24.1024L46.0825 27.9578L47.7717 20.6834L42.131 15.7915L49.5684 15.151L52.4755 8.27242L55.3825 15.151L62.8199 15.7915L57.1796 20.6834Z"})),r.a.createElement("div",{className:"logo__text-wrapper"},r.a.createElement("p",{className:"logo__big-text"},"\u041a\u0430\u0432\u043a\u0430\u0437\u0441\u043a\u0438\u0439"),r.a.createElement("p",{className:"logo__text"},"\u043a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a")))},C=t(23),O=t.n(C),j=t(44),L=t(64),x=t.n(L),k=x.a.create({baseURL:"https://film-api-backend.herokuapp.com/movies/",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),S={instance:k,getFilmsPage:function(){var e=Object(j.a)(O.a.mark((function e(a,t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/page=".concat(a,"/size=").concat(t)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),searchFilms:function(){var e=Object(j.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/find?title=".concat(a)).then((function(e){return e.data.search}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),searchFilmsPageable:function(){var e=Object(j.a)(O.a.mark((function e(a,t){var n,r=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>2&&void 0!==r[2]?r[2]:1,e.next=3,k.get("/page=".concat(n,"/size=").concat(t,"//find?title=").concat(a)).then((function(e){return e.data.search}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},T=function(e){return{type:"SET_SEARCH_TEXT",payload:e}},P=function(e){return{type:"SET_SEARCH_ITEMS",payload:e}},M=t(183),A=t.n(M),R=function(e){var a=e.type||"text";return r.a.createElement("input",{className:A.a.Input,type:a,name:e.name,value:e.value,placeholder:e.placeholder,autoComplete:e.autoComplete,onChange:e.onChange,required:e.required})},H=t(109),U=t.n(H),B=function(){var e=Object(c.c)(),a=Object(n.useRef)(),t=Object(w.g)(),l=Object(c.d)((function(e){return e.search})),i=l.searchText,o=l.searchItems;!function(e,a,t){var r=Object(n.useCallback)(e,t);Object(n.useEffect)((function(){var e=setTimeout((function(){r()}),a);return function(){clearTimeout(e)}}),[r,a])}((function(){var a;e(i?(a=i,function(e){return S.searchFilmsPageable(a,10).then((function(a){e(P(a))}))}):P([]))}),300,[e,i]);var s=function(){var a=Object(j.a)(O.a.mark((function a(){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(T(""));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),u=function(){var a=Object(j.a)(O.a.mark((function a(n){var r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),o.length&&(r=o[0].title,e(T("")),t.push("/film/".concat(r)));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:U.a.Search},r.a.createElement("form",{onSubmit:u},r.a.createElement(R,{value:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",onChange:function(a){e(T(a.target.value))}}),r.a.createElement("ul",{className:U.a.Dropdown,ref:a},o.map((function(e){return r.a.createElement("li",{key:e.id,"data-title":e.title},r.a.createElement(m.b,{to:"/films/".concat(e.title),className:U.a.Link,onClick:s},e.title))}))),r.a.createElement("button",null)))},V=t(48),W=t.n(V),q=[{name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",link:"/"},{name:"\u0424\u0438\u043b\u044c\u043c\u044b",link:"/films"},{name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",link:"/profile"}],z=function(e){var a=e.isMenuOpen,t=e.toggleMenuHandler;return r.a.createElement("div",{className:W()({menu:!0,"menu--active":a})},r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"nav__list"},q.map((function(e,a){return r.a.createElement("li",{className:"nav__item",key:a},r.a.createElement(m.b,{to:e.link,className:"nav__link",onClick:t},e.name))})))))},G=function(e){var a=e.isMenuOpen,t=e.toggleMenuHandler;return r.a.createElement("div",{onClick:t,className:W()({hamburger:!0,"hamburger--active":a})},r.a.createElement("div",{className:"hamburger__item"}),r.a.createElement("div",{className:"hamburger__item"}),r.a.createElement("div",{className:"hamburger__item"}))};function Y(){var e=Object(n.useState)(!1),a=Object(I.a)(e,2),t=a[0],l=a[1],i=function(){return l(!t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header__wrapper"},r.a.createElement(D,null),r.a.createElement(B,null),r.a.createElement(G,{isMenuOpen:t,toggleMenuHandler:i})))),r.a.createElement(z,{isMenuOpen:t,toggleMenuHandler:i}))}var X=function(e){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"footer__wrapper"},r.a.createElement(m.c,{to:"/",className:"logo"},r.a.createElement("div",{className:"logo__text-wrapper"},r.a.createElement("p",{className:"logo__big-text"},"\u041a\u0430\u0432\u043a\u0430\u0437\u0441\u043a\u0438\u0439"),r.a.createElement("p",{className:"logo__text"},"\u043a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a"))),r.a.createElement("div",{className:"copyright"},r.a.createElement("p",{className:"copyright__top"},"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u043e \u0432 \u0441\u0442\u0443\u0434\u0438\u0438"),r.a.createElement("p",{className:"copyright__bottom"},"\u041d\u0435 \u0442\u0432\u043e\u0438\u0445 \u0441\u043e\u0431\u0430\u0447\u044c\u0438\u0445 \u0434\u0435\u043b")))))},Z=t(184),J=t.n(Z),Q=x.a.create({baseURL:"http://w91691o1.beget.tech/api/v1/"}),$={getUser:function(){var e=Object(j.a)(O.a.mark((function e(a,t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.get("users/?u=".concat(a,"&p=").concat(t)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),setUserAvatar:function(){var e=Object(j.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.post("users/",a).then((function(e){return e.data.url}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()};function K(e){var a=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return a?decodeURIComponent(a[1]):void 0}function ee(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(t=Object(p.a)({path:"/"},t)).expires instanceof Date&&(t.expires=t.expires.toUTCString());var n=encodeURIComponent(e)+"="+encodeURIComponent(a);for(var r in t){n+="; "+r;var l=t[r];!0!==l&&(n+="="+l)}document.cookie=n}function ae(e){ee(e,"",{"max-age":-1})}var te=function(e){return function(a){$.getUser(e.login,e.password).then((function(t){1===t.status?(ee("login",e.login),ee("password",e.password),a(ne(t))):alert(t.message)}))}},ne=function(e){return{type:"SET_USER",payload:e}},re=function(e){return{type:"SET_USER_AVATAR",payload:e}},le=function(e){var a=Object(c.c)();if(K("login")){var t=K("login"),n=K("password");a(te({login:t,password:n}))}return r.a.createElement("div",{className:J.a.Layout},r.a.createElement(Y,null),r.a.createElement("main",null,e.children),r.a.createElement(X,null))},ie=t(197),ce=t(80),me=t.n(ce),oe=function(e){var a=e.link,t=Object(ie.a)(e,["link"]);return r.a.createElement("section",{className:"hero"},r.a.createElement("div",{className:"container"},a?r.a.createElement(m.b,{to:a,className:"hero__wrapper"},r.a.createElement("div",{className:"hero__image-wrapper"},r.a.createElement("img",{className:"hero__image",src:me.a,alt:"\u0421\u0442\u0435\u0442\u0445\u0435\u043c"})),r.a.createElement("div",{className:"hero__text-wrapper"},t.children)):r.a.createElement("div",{className:"hero__wrapper"},r.a.createElement("div",{className:"hero__image-wrapper"},r.a.createElement("img",{className:"hero__image",src:me.a,alt:"\u0421\u0442\u0435\u0442\u0445\u0435\u043c"})),r.a.createElement("div",{className:"hero__text-wrapper"},t.children))))},se=t(185),ue=t.n(se);var pe=function(e){return r.a.createElement("div",{className:ue.a.FilmsContainer},r.a.createElement("section",{className:"hero"},r.a.createElement("div",{className:"container"},r.a.createElement(oe,{link:"/films/"},r.a.createElement("p",{className:"hero__text"},"\u041f\u043e\u0440\u0430 \u043d\u0430\u0447\u0430\u0442\u044c \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"),r.a.createElement("p",{className:"hero__big-text"},r.a.createElement("b",null,"\u041c\u0423\u0416\u0418\u0426\u041a\u0418\u0415")," \u0424\u0418\u041b\u042c\u041c\u042b")))))},de=t(135),Ee=t.n(de),ve=t(110),fe=t.n(ve),_e=t(136),be=t.n(_e),he=function(e){var a=[be.a.Button,be.a[e.type]];return r.a.createElement("button",{onClick:e.onClick,className:a.join(" "),disabled:e.disabled},e.children)},ge=function(e){return r.a.createElement("div",{className:fe.a.FilmCard},r.a.createElement("img",{src:e.poster,alt:e.filmName}),r.a.createElement("div",{className:fe.a.FilmCardHover,onMouseEnter:e.onMouseEnter},r.a.createElement("div",{className:fe.a.FilmInfo},r.a.createElement(m.c,{to:"/films/"+e.title},r.a.createElement(he,{onClick:e.onClick},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")),r.a.createElement("h3",null,e.filmName),r.a.createElement("p",null,e.filmYear))))},Ne=t(137),Fe=t.n(Ne);function ye(){return r.a.createElement("div",{className:Fe.a.LoaderWrapper},r.a.createElement("div",{className:Fe.a.Loader}))}var we=t(186),Ie=function(){return r.a.createElement(we.a,{className:"film-card-placeholder",height:"450"},r.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",height:"100%",width:"100%"}))},De=t(138),Ce=t.n(De),Oe=t(27),je=x.a.create({baseURL:"https://movie-database-imdb-alternative.p.rapidapi.com/",headers:{"x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com","x-rapidapi-key":"421df21564mshec026f33dbed2d1p17da9djsn5014d3c84f92"}}),Le={getFilm:function(e){return je.get("?i=".concat(e,"&r=json")).then((function(e){return e.data}))}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return function(t){t({type:"SET_LOADED",payload:!1}),S.getFilmsPage(e,a).then((function(e){return t(Se(e))}))}},ke=function(e){return function(a){Le.getFilm(e.imdbID).then((function(t){return a(Te(Object(p.a)(Object(p.a)({},e),t)))}))}},Se=function(e){return{type:"SET_FILMS",payload:{items:Object(Oe.a)(e.search),totalItems:e.totalResults}}},Te=function(e){return{type:"SET_ACTIVE_FILM",payload:e}};var Pe=function(){var e=Object(c.c)(),a=Object(c.d)((function(e){return function(e){return e.films.items}(e)})),t=Object(c.d)((function(e){return function(e){return e.films.totalItems}(e)})),n=Object(c.d)((function(e){return e.films.isLoaded})),l=Object(c.d)((function(e){return e.pagination})),i=l.page,m=l.pageSize;r.a.useEffect((function(){e(xe(i,m))}),[e,i,m]);var o=function(a){if(a===i)return!1;e({type:"SET_PAGE",payload:a})},s=r.a.createElement("div",{className:"container"},r.a.createElement(Ee.a,{activePage:i,itemsCountPerPage:m,totalItemsCount:t,hideNavigation:!0,onChange:o.bind(this)}),r.a.createElement("div",{className:Ce.a.FilmLibWrapper},a.map((function(e){return r.a.createElement(ge,{key:e.id,title:e.title,poster:e.poster,filmName:e.title,filmYear:e.year})}))),r.a.createElement(Ee.a,{activePage:i,itemsCountPerPage:m,totalItemsCount:t,hideNavigation:!0,onChange:o.bind(this)})),u=r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"container"},r.a.createElement(ye,null),r.a.createElement(Ie,null),r.a.createElement(Ie,null),r.a.createElement(Ie,null),r.a.createElement(Ie,null),r.a.createElement(Ie,null),r.a.createElement(Ie,null),r.a.createElement(Ie,null),r.a.createElement(Ie,null)));return r.a.createElement("div",{className:Ce.a.FilmsContainer},r.a.createElement("section",{className:"hero"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"hero__wrapper"},r.a.createElement("div",{className:"hero__image-wrapper"},r.a.createElement("img",{className:"hero__image",src:me.a,alt:"\u0421\u0442\u0435\u0442\u0445\u0435\u043c"})),r.a.createElement("div",{className:"hero__text-wrapper"},r.a.createElement("p",{className:"hero__text"},"\u041b\u0443\u0447\u0448\u0435 \u0438\u043c\u0435\u0442\u044c \u0434\u0440\u0443\u0433\u0430,"),r.a.createElement("p",{className:"hero__big-text"},"\u0447\u0435\u043c ",r.a.createElement("b",null,"\u0414\u0420\u0423\u0413 \u0414\u0420\u0423\u0413\u0410")))))),n?s:u)},Me=t(30),Ae=t.n(Me);var Re=function(e){var a=e.name,t=e.value;return r.a.createElement("div",{className:Ae.a.FilmDetailFieldItem},r.a.createElement("p",{className:Ae.a.FilmDetailFieldItemName},a),r.a.createElement("p",{className:Ae.a.FilmDetailFieldItemValue},t))},He=t(187),Ue=function(e){return r.a.createElement(He.a,{source:{type:"video",sources:[{src:e.youtubeId,provider:"youtube"}]}})},Be=r.a.memo((function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.films})).activeItem;r.a.useEffect((function(){var t;return a((t=e.match.params.title,function(e){S.searchFilms(t).then((function(a){return e(ke(a[0]))}))})),function(){return a(Te(null))}}),[a,e.match.params.title]);return r.a.createElement("div",{className:Ae.a.FilmDetail},t?function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:Ae.a.FilmDetailWrapper},r.a.createElement("div",{className:Ae.a.FilmDetailTop},r.a.createElement("div",{className:Ae.a.FilmDetailImageWrapper},r.a.createElement("img",{className:Ae.a.FilmDetailImage,src:t.poster,alt:t.title})),r.a.createElement("div",{className:Ae.a.FilmDetailRight},r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.titleEn),r.a.createElement("span",{className:Ae.a.id},"id: ",t.id),r.a.createElement("div",{className:Ae.a.FilmDetailField},r.a.createElement(Re,{name:"\u0413\u043e\u0434",value:t.year}),r.a.createElement(Re,{name:"\u0421\u0442\u0440\u0430\u043d\u0430",value:t.country}),r.a.createElement(Re,{name:"\u0410\u043a\u0442\u0435\u0440\u044b",value:t.Actors}),r.a.createElement(Re,{name:"IMDb",value:(e=null===t||void 0===t?void 0:t.imdbID,r.a.createElement("a",{href:"https://www.imdb.com/title/".concat(e),target:"_blank",rel:"noopener noreferrer"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"))}),r.a.createElement(Re,{name:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 IMDb",value:t.imdbRating}),r.a.createElement(Re,{name:"Metascore",value:t.Metascore}),r.a.createElement(Re,{name:"\u0416\u0430\u043d\u0440\u044b",value:t.Genre}),r.a.createElement(Re,{name:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:t.Runtime}),r.a.createElement(Re,{name:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",value:t.Rated}),r.a.createElement(Re,{name:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:t.description})),r.a.createElement(m.b,{to:"/",className:Ae.a.FilmDetailLink},"\u041d\u0430\u0437\u0430\u0434"))),r.a.createElement("div",{className:"plyr-wrapper"},t.video&&r.a.createElement(Ue,{youtubeId:t.video}))));var e}():r.a.createElement(ye,null))})),Ve=t(81),We=t(82),qe=t(108),ze=t(106),Ge=function(e){var a=function(a){Object(qe.a)(n,a);var t=Object(ze.a)(n);function n(){return Object(Ve.a)(this,n),t.apply(this,arguments)}return Object(We.a)(n,[{key:"render",value:function(){return this.props.user?r.a.createElement(e,Object.assign({},this.props,{user:this.props.user})):r.a.createElement(w.a,{to:"/profile/auth/"})}}]),n}(r.a.Component);return Object(c.b)((function(e){return{user:e.users.user}}))(a)},Ye=t(179),Xe=t(393),Ze=t(192),Je=t.n(Ze),Qe=t(60),$e=t.n(Qe),Ke=function(e){return r.a.createElement("form",{className:$e.a.form,onSubmit:e.formSubmit,name:"create"},e.message&&r.a.createElement("p",{className:$e.a.message},e.message),r.a.createElement(Ye.a,{className:$e.a.input,name:"imdbID",label:"imdbID",variant:"outlined",required:!0}),r.a.createElement(Ye.a,{className:$e.a.input,name:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",required:!0}),r.a.createElement(Ye.a,{className:$e.a.input,name:"video",label:"\u0422\u0440\u0435\u0439\u043b\u0435\u0440 (youtube id)",variant:"outlined"}),r.a.createElement(Ye.a,{className:$e.a.input,name:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",rows:5,multiline:!0}),r.a.createElement(Xe.a,{name:"button",type:"submit",size:"large",color:"primary",variant:"contained",startIcon:r.a.createElement(Je.a,null)},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))},ea=t(193),aa=t.n(ea),ta=t(31),na=t.n(ta),ra=function(e){return r.a.createElement("form",{className:na.a.form,onSubmit:e.formSubmit,name:"edit",onChange:e.formChange},e.message&&r.a.createElement("p",{className:na.a.message},e.message),r.a.createElement(Ye.a,{className:na.a.input,name:"id",label:"ID",variant:"outlined",InputLabelProps:{shrink:!0},required:!0}),r.a.createElement(Ye.a,{className:na.a.input,name:"imdbID",label:"imdbID",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Ye.a,{className:na.a.input,name:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Ye.a,{className:na.a.input,name:"titleEn",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Ye.a,{className:na.a.input,name:"year",label:"\u0413\u043e\u0434",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Ye.a,{className:na.a.input,name:"country",label:"\u0421\u0442\u0440\u0430\u043d\u0430",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Ye.a,{className:na.a.input,name:"poster",label:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 (url)",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Ye.a,{className:na.a.input,name:"video",label:"\u0422\u0440\u0435\u0439\u043b\u0435\u0440 (youtube key)",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Ye.a,{className:na.a.input,name:"genres",label:"\u0416\u0430\u043d\u0440\u044b (\u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e)",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Ye.a,{className:na.a.input,name:"type",label:"\u0422\u0438\u043f (movie, series)",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Ye.a,{className:na.a.input,name:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",InputLabelProps:{shrink:!0},rows:5,multiline:!0}),r.a.createElement(Xe.a,{name:"button",type:"submit",size:"large",color:"primary",variant:"contained",startIcon:r.a.createElement(aa.a,null)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},la=t(194),ia=t.n(la),ca=t(111),ma=t.n(ca),oa=function(e){return r.a.createElement("form",{className:ma.a.form,onSubmit:e.formSubmit,name:"delete"},e.message&&r.a.createElement("p",{className:ma.a.message},e.message),r.a.createElement(Ye.a,{className:ma.a.input,name:"id",label:"ID",variant:"outlined",InputLabelProps:{shrink:!0},required:!0}),r.a.createElement(Xe.a,{name:"button",type:"submit",size:"large",color:"primary",variant:"contained",startIcon:r.a.createElement(ia.a,null)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))},sa=function(e){return r.a.createElement("div",{className:W()({modal:!0,"modal--active":e.isModalOpen}),onClick:function(a){a.target===a.currentTarget&&e.toggleModalHadler()}},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"modal-top"},r.a.createElement("h4",{className:"modal-top__title"},e.title),r.a.createElement("div",{className:"modal-top__close-button",onClick:e.toggleModalHadler})),r.a.createElement("div",{className:"modal-content"},e.children)))},ua=t(45),pa=t.n(ua),da=t(195),Ea=function(){var e=Object(c.c)(),a=r.a.useState(!1),t=Object(I.a)(a,2),n=t[0],l=t[1],i=r.a.useState(null),m=Object(I.a)(i,2),o=m[0],s=m[1],u=r.a.useState(null),p=Object(I.a)(u,2),d=p[0],E=p[1],v=r.a.useState(null),f=Object(I.a)(v,2),_=f[0],b=f[1],h=Object(c.d)((function(e){return e.films.items}));r.a.useEffect((function(){!n&&b(null),e(xe(1,50))}),[e,n]);var g,N,F=function(e){e.preventDefault();var a=e.target,t={};switch(a.name){case"create":Le.getFilm(a.imdbID.value).then((function(e){return t={imdbID:a.imdbID.value,title:a.title.value,description:a.description.value,country:e.Country,genres:e.Genre.split(",").map((function(e){return{name:e}})),poster:e.Poster,titleEn:e.Title,type:e.Type,video:a.video.value,year:+e.Year},S.instance.post("create",t).then((function(){return b("\u0423\u0441\u043f\u0435\u0448\u043d\u043e")})),a.reset()}));break;case"edit":t={country:a.country.value,description:a.description.value,genres:a.genres.value.split(",").map((function(e){return{name:e}})),id:a.id.value,imdbID:a.imdbID.value,poster:a.poster.value,title:a.title.value,titleEn:a.titleEn.value,type:a.type.value,video:a.video.value,year:+a.year.value},S.instance.put("update/".concat(a.id.value),t).then((function(){return b("\u0423\u0441\u043f\u0435\u0448\u043d\u043e")})).catch((function(e){return console.warn(e)})),a.reset();break;case"delete":S.instance.delete("delete/".concat(a.id.value)).then((function(){return b("\u0423\u0441\u043f\u0435\u0448\u043d\u043e")})),a.reset();break;default:return console.warn("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0444\u043e\u0440\u043c\u044b")}},y=function(e){var a,t;l(!n),s((null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.innerText)||null),E((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.dataset.content)||null)};return h.length&&((g=Object.keys(h[0]).map((function(e){return{field:String(e),width:200}})))[0].width=60,g[3].width=100,g[4].width=100,g[5].width=100,g[6].width=300,g[7].width=400,g[10]={},N=Object(Oe.a)(h)),r.a.createElement("div",{className:pa.a.API},r.a.createElement("h2",{className:pa.a.title},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"),r.a.createElement("div",{className:pa.a.wrapper},r.a.createElement("button",{className:pa.a.button,onClick:y,"data-content":"create"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"),r.a.createElement("button",{className:pa.a.button,onClick:y,"data-content":"edit"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"),r.a.createElement("button",{className:pa.a.button,onClick:y,"data-content":"delete"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c")),r.a.createElement("div",{className:pa.a.filmsWrapper},r.a.createElement("h2",{className:pa.a.title},"\u0421\u043f\u0438\u0441\u043e\u043a \u0444\u0438\u043b\u044c\u043c\u043e\u0432"),r.a.createElement("div",{className:pa.a.films},r.a.createElement("div",{style:{height:800,width:"100%"}},h.length&&r.a.createElement(da.a,{rows:N,columns:g,rowHeight:25,checkboxSelection:!0})))),r.a.createElement(sa,{title:o,toggleModalHadler:y,isModalOpen:n},"create"===d&&r.a.createElement(Ke,{formSubmit:F,message:_}),"edit"===d&&r.a.createElement(ra,{formSubmit:F,formChange:function(e){var a=e.target,t=e.currentTarget;if("id"===a.name){var n=a.value;t.button.disabled=!0,S.instance.get("/find/{id}?id=".concat(n)).then((function(e){var a=e.data;t.country.value=a.search[0].country,t.description.value=a.search[0].description,t.genres.value=Object(Oe.a)(a.search[0].genres.map((function(e){return e.name}))).join(", "),t.imdbID.value=a.search[0].imdbID,t.poster.value=a.search[0].poster,t.video.value=a.search[0].video,t.title.value=a.search[0].title,t.titleEn.value=a.search[0].titleEn,t.type.value=a.search[0].type,t.year.value=a.search[0].year,t.button.disabled=!1})).catch((function(){t.country.value="",t.description.value="",t.genres.value="",t.imdbID.value="",t.poster.value="",t.video.value="",t.title.value="",t.titleEn.value="",t.type.value="",t.year.value="",t.button.disabled=!1}))}},message:_}),"delete"===d&&r.a.createElement(oa,{formSubmit:F,message:_})))},va=function(e){var a=e.user,t=e.onImageChange,n=e.onButtonClick,l=a.avatar?a.avatar:"https://www.tclilibrary.com/admin2/dist/use.png";return r.a.createElement("section",{className:"profile-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-about"},r.a.createElement("h1",{className:"page-title"},"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement("div",{className:"profile-about__wrapper"},r.a.createElement("div",{className:"profile-about__aside"},r.a.createElement("div",{className:"profile-info"},r.a.createElement("div",{className:"profile-info__image-wrapper"},r.a.createElement("label",null,r.a.createElement("input",{name:"avatar",type:"file",style:{display:"none"},accept:".jpg, .jpeg, .png",onChange:t}),r.a.createElement("img",{className:"profile-info__image",src:l,alt:a.name}))),r.a.createElement("button",{className:"profile-info__logout",onClick:n},"\u0412\u044b\u0439\u0442\u0438"),r.a.createElement("div",{className:"profile-info__name"},a.name))),r.a.createElement("div",{className:"profile-about__content"},a.isAdmin?r.a.createElement(Ea,null):null)))))},fa=function(e){var a=e.user,t=Object(c.c)();return r.a.createElement(va,{onImageChange:function(e){var n,r=new FormData;r.append("avatar",e.target.files[0]),r.append("id",a.id),a.avatar&&r.append("url",a.avatar.split("/").reverse()[0]),t((n=r,function(e){$.setUserAvatar(n).then((function(a){return e(re(a))}))}))},onButtonClick:function(){ae("login"),ae("password"),t(ne(null))},user:a})},_a=Ge((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null,r.a.createElement("p",{className:"hero__text"},"\u0415\u0441\u043b\u0438 \u0432\u043e\u043b\u043a \u043c\u043e\u043b\u0447\u0438\u0442, \u0442\u043e"),r.a.createElement("p",{className:"hero__big-text"},"\u043b\u0443\u0447\u0448\u0435 \u0435\u0433\u043e \u043d\u0435 ",r.a.createElement("b",null,"\u043f\u0435\u0440\u0435\u0431\u0438\u0432\u0430\u0442\u044c"))),r.a.createElement(fa,e))})),ba=t(395),ha=t(394),ga=t(139),Na=function(e){var a=e.handleSubmit,t=e.pristine,n=e.submitting;return r.a.createElement("form",{className:"auth-form",onSubmit:a},r.a.createElement("h2",null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement(ba.a,{className:"auth-form__input",name:"login",type:"text",label:"\u0412\u0430\u0448 \u043b\u043e\u0433\u0438\u043d",autoComplete:"username",component:ga.TextField,required:!0}),r.a.createElement(ba.a,{className:"auth-form__input",name:"password",type:"password",label:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"current-password",component:ga.TextField,required:!0}),r.a.createElement(Xe.a,{color:"primary",type:"submit",variant:"contained",disabled:t||n},"\u0412\u043e\u0439\u0442\u0438"))};Na=Object(ha.a)({form:"auth"})(Na);var Fa=function(e){var a=e.formSubmitHandler;return r.a.createElement("section",{className:"auth-section"},r.a.createElement("div",{className:"container"},r.a.createElement(Na,{onSubmit:a})))};var ya=function(e){var a=Object(c.c)(),t=Object(c.d)((function(e){return e.users.user}));return r.a.useEffect((function(){t&&e.history.push("/profile/")}),[t,e.history]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null,r.a.createElement("p",{className:"hero__text"},"\u041b\u0435\u0437\u0435\u0448\u044c \u0432 \u0412\u041e\u041b\u041a\u0418,"),r.a.createElement("p",{className:"hero__big-text"},"\u0430 \u0445\u0432\u043e\u0441\u0442 ",r.a.createElement("b",null,"\u0441\u043e\u0431\u0430\u0447\u0438\u0439"))),r.a.createElement(Fa,{formSubmitHandler:function(e){var t=e.login,n=e.password;a(te({login:t,password:n}))}}))};var wa=function(){return r.a.createElement(le,null,r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/films/:title",component:Be}),r.a.createElement(w.b,{path:"/films/",component:Pe}),r.a.createElement(w.b,{path:"/profile/auth",component:ya}),r.a.createElement(w.b,{path:"/profile/",component:_a}),r.a.createElement(w.b,{path:"/",component:pe})))},Ia=(t(342),r.a.createElement(m.a,null,r.a.createElement(c.a,{store:y},r.a.createElement(wa,null))));i.a.render(Ia,document.getElementById("root"))},45:function(e,a,t){e.exports={wrapper:"API_wrapper__1aSB6",title:"API_title__1ZQn5",button:"API_button__1LxHb"}},60:function(e,a,t){e.exports={form:"CreateFilm_form__1PTed",input:"CreateFilm_input__3ONeu",message:"CreateFilm_message__1nvVn"}},80:function(e,a,t){e.exports=t.p+"static/media/hero-img.a3143511.png"}},[[209,1,2]]]);
//# sourceMappingURL=main.2ab266ee.chunk.js.map