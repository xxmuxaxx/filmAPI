{"version":3,"sources":["forms/EditFilm/EditFilm.module.css","forms/DeleteFilm/DeleteFilm.module.scss","components/Nav/Search/Search.module.css","components/UI/Button/Button.module.css","components/Loader/Loader.module.scss","containers/FilmsContainer/FilmsContainer.module.scss","components/UI/Input/Input.module.scss","containers/Layout/Layout.module.css","routes/IndexPage/IndexPage.module.scss","containers/FilmDetail/FilmDetail.module.scss","redux/reducers/films.js","redux/reducers/pagination.js","redux/reducers/search.js","redux/reducers/users.js","redux/reducers/index.js","redux/store.js","components/UI/Logo/Logo.jsx","api/filmApi.js","redux/actions/search.js","utils/useDebouncedEffect.js","components/UI/Input/Input.js","components/Nav/Search/Search.js","components/Nav/Menu/Menu.jsx","components/Nav/Hamburger/Hamburger.jsx","components/Header/Header.js","components/Footer/Footer.jsx","api/begetApi.js","utils/functions.js","redux/actions/users.js","containers/Layout/Layout.js","components/Hero/Hero.jsx","routes/IndexPage/IndexPage.jsx","components/UI/Button/Button.js","components/FilmCard/FilmCard.js","components/FilmCard/FilmCardPlaceholder.js","components/Loader/Loader.js","components/ModalNew/ModalNew.jsx","hoc/withModal/withModal.js","forms/EditFilm/EditFilm.jsx","forms/DeleteFilm/DeleteFilm.jsx","api/IMDBAlternative.js","redux/actions/films.js","containers/FilmsContainer/FilmsContainer.js","redux/selectors/films.js","redux/selectors/users.js","redux/actions/pagination.js","containers/FilmDetail/FilmDetailFieldItem.jsx","components/VideoPlayer/VideoPlayer.jsx","containers/FilmDetail/FilmDetail.js","hoc/withAuth/withAuth.js","components/Modal/Modal.jsx","components/API/CreateFilm/CreateFilm.jsx","components/API/API.jsx","components/Profile/Profile.jsx","containers/ProfileContainer/ProfileContainer.js","routes/ProfilePage/ProfilePage.jsx","forms/AuthForm/Auth.jsx","routes/AuthPage/AuthPage.jsx","App.js","index.js","components/API/API.module.css","components/API/CreateFilm/CreateFilm.module.css","img/hero-img.png","components/FilmCard/FilmCard.module.scss"],"names":["module","exports","initialState","items","activeItem","isLoaded","totalItems","films","state","action","type","payload","page","pageSize","pagination","searchText","searchItems","search","user","users","avatar","rootReducer","combineReducers","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Logo","to","className","viewBox","xmlns","d","instance","axios","create","baseURL","headers","filmApi","getFilmById","id","a","get","then","res","data","getFilmsPage","size","searchFilms","title","searchFilmsPageable","updateFilm","movieItem","put","deleteFilm","delete","setSearchText","setSearchItems","useDebouncedEffect","effect","delay","deps","callback","useCallback","useEffect","handler","setTimeout","clearTimeout","Input","props","classes","name","value","placeholder","autoComplete","onChange","required","Search","dispatch","useDispatch","ref","useRef","history","useHistory","useSelector","linkClickHandler","formSubmitHandler","event","preventDefault","length","push","onSubmit","target","Dropdown","map","filmLink","key","data-title","Link","onClick","links","link","Menu","isMenuOpen","toggleMenuHandler","classNames","menu","index","Hamburger","hamburger","Header","useState","setIsMenuOpen","Footer","begetApi","getUser","login","password","setUserAvatar","post","response","url","getCookie","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","options","path","expires","Date","toUTCString","updatedCookie","encodeURIComponent","optionKey","optionValue","deleteCookie","fetchUser","status","setUser","alert","message","Layout","children","Hero","src","heroBackground","alt","IndexPage","FilmsContainer","Button","cls","join","disabled","FilmCard","onClickDeleteButton","onClickEditButton","showButtons","Card","poster","filmName","Hover","onMouseEnter","Buttons","EditOutlined","DeleteOutlined","Info","filmYear","FilmCardPlaceholder","height","x","y","rx","ry","width","Loader","LoaderWrapper","ModalNew","isOpen","setIsOpen","closeModal","currentTarget","modal","withModal","Component","isShow","component","openModal","setState","call","createModal","template","render","modalIsOpen","React","Field","styles","input","variant","TextField","EditFilmForm","error","handleSubmit","pristine","submitting","initialId","label","style","rows","multiline","errorMessage","color","startIcon","reduxForm","validate","values","errors","_error","fields","EditFilm","delayDebounce","getFormValues","setMessage","blur","genres","item","forEach","field","formData","split","genre","year","Number","catch","stopSubmit","DeleteFilmForm","DeleteFilm","setErrorMessage","reset","IMDBAlternative","getFilm","imdbID","fetchFilms","setFilms","fetchFilmIMDBFields","film","setActiveFilm","totalResults","memo","getFilms","totalFilms","getTotalFilms","load","onCloseModal","clickEditButtonHandler","clickDeleteButtonHandler","handlePageClick","pageNumber","activePage","itemsCountPerPage","totalItemsCount","hideNavigation","bind","this","FilmLibWrapper","isAdmin","loadingTemplate","FilmDetailFieldItem","FilmDetailFieldItemName","FilmDetailFieldItemValue","VideoPlayer","source","sources","youtubeId","provider","FilmDetail","params","FilmDetailWrapper","FilmDetailTop","FilmDetailImageWrapper","FilmDetailImage","FilmDetailRight","titleEn","FilmDetailField","country","Actors","href","rel","imdbRating","Metascore","Genre","Runtime","Rated","description","FilmDetailLink","video","withAuth","WithAuth","connect","Modal","isModalOpen","toggleModalHadler","CreateFilm","formSubmit","setIsModalOpen","modalTitle","setModalTitle","modalContent","setModalContent","columns","innerText","dataset","content","Object","keys","String","API","wrapper","button","data-content","filmsWrapper","rowHeight","checkboxSelection","Country","Poster","Title","Type","Year","console","warn","Profile","onImageChange","onButtonClick","image","display","accept","ProfileContainer","FormData","append","files","reverse","AuthForm","Auth","AuthPage","App","ProfilePage","app","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.db00a1bf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"EditFilm_form__sbFSY\",\"input\":\"EditFilm_input__137I4\",\"message\":\"EditFilm_message__3c4vq\",\"errorMessage\":\"EditFilm_errorMessage__2DGJJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"DeleteFilm_form__396gS\",\"input\":\"DeleteFilm_input__1MLi5\",\"message\":\"DeleteFilm_message__1P62T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__di4ea\",\"Dropdown\":\"Search_Dropdown__2lVVF\",\"Link\":\"Search_Link__1EHio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__MQwo6\",\"error\":\"Button_error__2DMFG\",\"success\":\"Button_success__2fmAL\",\"primary\":\"Button_primary__ls6AW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderWrapper\":\"Loader_LoaderWrapper__3haqL\",\"Loader\":\"Loader_Loader__2oUp4\",\"lds-dual-ring\":\"Loader_lds-dual-ring__2hE87\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilmsContainer\":\"FilmsContainer_FilmsContainer__3_xWo\",\"FilmLibWrapper\":\"FilmsContainer_FilmLibWrapper__3KE48\",\"show\":\"FilmsContainer_show__2Vcp8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__1C9aY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__3gHwl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilmsContainer\":\"IndexPage_FilmsContainer__1Vx8o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilmDetail\":\"FilmDetail_FilmDetail__Pavxa\",\"FilmDetailTop\":\"FilmDetail_FilmDetailTop__1ll3G\",\"FilmDetailImageWrapper\":\"FilmDetail_FilmDetailImageWrapper__1U1Ez\",\"FilmDetailImage\":\"FilmDetail_FilmDetailImage__31692\",\"FilmDetailRight\":\"FilmDetail_FilmDetailRight__2D7kY\",\"FilmDetailField\":\"FilmDetail_FilmDetailField__4jO6v\",\"FilmDetailFieldItem\":\"FilmDetail_FilmDetailFieldItem__3fbd7\",\"FilmDetailFieldItemName\":\"FilmDetail_FilmDetailFieldItemName__T4jus\",\"FilmDetailFieldItemValue\":\"FilmDetail_FilmDetailFieldItemValue__CBBY9\",\"FilmDetailBottom\":\"FilmDetail_FilmDetailBottom__39Cwz\",\"FilmDetailDescription\":\"FilmDetail_FilmDetailDescription__2EXpy\",\"FilmDetailLink\":\"FilmDetail_FilmDetailLink__1wT6Z\",\"id\":\"FilmDetail_id__1_PtY\"};","const initialState = {\r\n  items: [],\r\n  activeItem: null,\r\n  isLoaded: false,\r\n  totalItems: 0,\r\n};\r\n\r\nconst films = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_FILMS\":\r\n      return {\r\n        ...state,\r\n        items: action.payload.items,\r\n        totalItems: action.payload.totalItems,\r\n        isLoaded: true,\r\n      };\r\n\r\n    case \"SET_ACTIVE_FILM\":\r\n      return {\r\n        ...state,\r\n        activeItem: action.payload,\r\n      };\r\n\r\n    case \"SET_LOADED\":\r\n      return {\r\n        ...state,\r\n        isLoaded: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default films;\r\n","const initialState = {\r\n  page: 1,\r\n  pageSize: 12,\r\n};\r\n\r\nconst pagination = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_PAGE':\r\n      return {\r\n        ...state,\r\n        page: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default pagination;\r\n","const initialState = {\r\n  searchText: \"\",\r\n  searchItems: [],\r\n};\r\n\r\nconst search = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_SEARCH_TEXT\":\r\n      return {\r\n        ...state,\r\n        searchText: action.payload,\r\n      };\r\n\r\n    case \"SET_SEARCH_ITEMS\":\r\n      return {\r\n        ...state,\r\n        searchItems: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default search;\r\n","const initialState = {\r\n  user: null,\r\n};\r\n\r\nconst users = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n      };\r\n\r\n    case 'SET_USER_AVATAR':\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          avatar: action.payload,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default users;\r\n","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nimport films from './films';\r\nimport pagination from './pagination';\r\nimport search from './search';\r\nimport users from './users';\r\n\r\nconst rootReducer = combineReducers({\r\n  films: films,\r\n  pagination: pagination,\r\n  search:search,\r\n  users: users,\r\n  form: formReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Logo = () => (\r\n  <NavLink to=\"/\" className=\"logo\">\r\n    <svg className=\"logo__svg\" viewBox=\"0 0 80 67\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M65.356 38.7048H61.3287V33.9083C66.8456 30.8006 70.5823 24.8877 70.5823 18.115C70.5823 8.1263 62.4598 0 52.4757 0C44.4803 0 37.6834 5.21366 35.2912 12.4196C32.8987 5.21366 26.102 0.000222284 18.1066 0.000222284C8.12253 0.000222284 0 8.12652 0 18.115C0 24.8877 3.7367 30.8004 9.25339 33.9081V67H61.3285V59.0652H65.9613L80 66.6146V31.1963L65.356 38.7048ZM24.4999 27.9578L18.1066 24.1024L11.7134 27.9578L13.4027 20.6834L7.76196 15.7915L15.1994 15.151L18.1066 8.27242L21.0137 15.151L28.4511 15.7915L22.8104 20.6834L24.4999 27.9578ZM31.0449 30.7702C32.9476 28.8235 34.4144 26.4513 35.2912 23.8104C36.1679 26.451 37.6347 28.8235 39.5374 30.7702H31.0449ZM57.1796 20.6834L58.8689 27.9578L52.4757 24.1024L46.0825 27.9578L47.7717 20.6834L42.131 15.7915L49.5684 15.151L52.4755 8.27242L55.3825 15.151L62.8199 15.7915L57.1796 20.6834Z\" />\r\n    </svg>\r\n    <div className=\"logo__text-wrapper\">\r\n      <p className=\"logo__big-text\">Кавказский</p>\r\n      <p className=\"logo__text\">кинопоиск</p>\r\n    </div>\r\n  </NavLink>\r\n);\r\n\r\nexport default Logo;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://film-api-backend.herokuapp.com/movies/',\r\n    headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\nconst filmApi = {\r\n    instance: instance,\r\n    getFilmById: async (id) => {\r\n        return await instance.get(`/find/{id}?id=${id}`).then((res) => res.data.search[0]);\r\n    },\r\n    getFilmsPage: async (page, size) => {\r\n        return await instance.get(`/page=${page}/size=${size}`).then((res) => res.data);\r\n    },\r\n    searchFilms: async title => {\r\n        return await instance.get(`/find?title=${title}`).then((res) => res.data.search);\r\n    },\r\n    searchFilmsPageable: async (title, size, page = 1) => {\r\n        return await instance.get(`/page=${page}/size=${size}/find?title=${title}`)\r\n            .then((res) => res.data.search);\r\n    },\r\n    updateFilm: (id, movieItem) => {\r\n        return instance.put(`/update/${id}`, movieItem)\r\n    },\r\n    deleteFilm: (id) => {\r\n        return instance.delete(`delete/${id}`)\r\n    }\r\n};\r\n\r\nexport default filmApi;\r\n","import filmApi from '../../api/filmApi';\r\n\r\nexport const fetchSearchFilmsByTitle = (payload) => (dispatch) => {\r\n  return filmApi.searchFilmsPageable(payload, 10).then((data) => {\r\n    dispatch(setSearchItems(data));\r\n  });\r\n};\r\n\r\nexport const setSearchText = (payload) => ({\r\n  type: 'SET_SEARCH_TEXT',\r\n  payload,\r\n});\r\n\r\nexport const setSearchItems = (payload) => ({\r\n  type: 'SET_SEARCH_ITEMS',\r\n  payload,\r\n});\r\n","import { useCallback, useEffect } from \"react\";\r\n\r\nexport const useDebouncedEffect = (effect, delay , deps) => {\r\n    const callback = useCallback(effect, deps);\r\n\r\n    useEffect(() => {\r\n        const handler = setTimeout(() => {\r\n            callback();\r\n        }, delay);\r\n\r\n        return () => {\r\n            clearTimeout(handler);\r\n        };\r\n    }, [callback, delay]);\r\n}","import React from 'react';\r\nimport classes from './Input.module.scss';\r\n\r\nconst Input = (props) => {\r\n  const type = props.type || 'text';\r\n\r\n  return (\r\n    <input\r\n      className={classes.Input}\r\n      type={type}\r\n      name={props.name}\r\n      value={props.value}\r\n      placeholder={props.placeholder}\r\n      autoComplete={props.autoComplete}\r\n      onChange={props.onChange}\r\n      required={props.required}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React, {useRef} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {Link, useHistory} from 'react-router-dom';\r\n\r\nimport {fetchSearchFilmsByTitle, setSearchItems, setSearchText} from '../../../redux/actions/search';\r\nimport {useDebouncedEffect} from \"../../../utils/useDebouncedEffect\";\r\nimport Input from '../../UI/Input/Input';\r\nimport classes from './Search.module.css';\r\n\r\nconst Search = () => {\r\n    const dispatch = useDispatch();\r\n    const ref = useRef();\r\n    const history = useHistory();\r\n\r\n    const {searchText, searchItems} = useSelector(({search}) => search);\r\n\r\n    useDebouncedEffect(() => {\r\n        if (searchText) {\r\n            dispatch(fetchSearchFilmsByTitle(searchText))\r\n        } else {\r\n            dispatch(setSearchItems([]));\r\n        }\r\n    }, 300, [dispatch, searchText])\r\n\r\n    const renderFilmList = () => searchItems.map((filmLink) => {\r\n        return (\r\n            <li key={filmLink.id} data-title={filmLink.title}>\r\n                <Link to={`/films/${filmLink.title}`} className={classes.Link} onClick={linkClickHandler}>\r\n                    {filmLink.title}\r\n                </Link>\r\n            </li>\r\n        );\r\n    });\r\n\r\n    const linkClickHandler = async () => {\r\n        dispatch(setSearchText(''));\r\n    };\r\n\r\n    const formSubmitHandler = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (searchItems.length) {\r\n            const title = searchItems[0].title;\r\n            dispatch(setSearchText(''));\r\n            history.push(`/film/${title}`);\r\n        }\r\n    };\r\n\r\n    const inputChangeHandler = (event) => {\r\n        dispatch(setSearchText(event.target.value));\r\n    };\r\n\r\n    return (\r\n        <div className={classes.Search}>\r\n            <form onSubmit={formSubmitHandler}>\r\n                <Input value={searchText} placeholder={'Введите название фильма'} onChange={inputChangeHandler}/>\r\n                <ul className={classes.Dropdown} ref={ref}>\r\n                    {renderFilmList()}\r\n                </ul>\r\n                <button></button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst links = [\r\n  { name: 'Главная', link: '/' },\r\n  { name: 'Фильмы', link: '/films' },\r\n  { name: 'Профиль', link: '/profile' },\r\n];\r\n\r\nconst Menu = ({ isMenuOpen, toggleMenuHandler }) => {\r\n  return (\r\n    <div className={classNames({ menu: true, 'menu--active': isMenuOpen })}>\r\n      <nav className=\"nav\">\r\n        <ul className=\"nav__list\">\r\n          {links.map((link, index) => (\r\n            <li className=\"nav__item\" key={index}>\r\n              <Link to={link.link} className=\"nav__link\" onClick={toggleMenuHandler}>\r\n                {link.name}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst Hamburger = ({ isMenuOpen, toggleMenuHandler }) => {\r\n  return (\r\n    <div\r\n      onClick={toggleMenuHandler}\r\n      className={classNames({\r\n        hamburger: true,\r\n        \"hamburger--active\": isMenuOpen,\r\n      })}\r\n    >\r\n      <div className=\"hamburger__item\"></div>\r\n      <div className=\"hamburger__item\"></div>\r\n      <div className=\"hamburger__item\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Hamburger;\r\n","import React, {useState} from \"react\";\r\n\r\nimport Logo from \"../UI/Logo/Logo\";\r\nimport Search from \"../Nav/Search/Search\";\r\nimport Menu from \"../Nav/Menu/Menu\";\r\nimport Hamburger from \"../Nav/Hamburger/Hamburger\";\r\n\r\nexport default function Header() {\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n    const toggleMenuHandler = () => setIsMenuOpen(!isMenuOpen);\r\n\r\n    return (\r\n        <>\r\n            <header className=\"header\">\r\n                <div className=\"container\">\r\n                    <div className=\"header__wrapper\">\r\n                        <Logo/>\r\n                        <Search/>\r\n                        <Hamburger\r\n                            isMenuOpen={isMenuOpen}\r\n                            toggleMenuHandler={toggleMenuHandler}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </header>\r\n            <Menu isMenuOpen={isMenuOpen} toggleMenuHandler={toggleMenuHandler}/>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Footer = (props) => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"container\">\r\n        <div className=\"footer__wrapper\">\r\n          <NavLink to=\"/\" className=\"logo\">\r\n            <div className=\"logo__text-wrapper\">\r\n              <p className=\"logo__big-text\">Кавказский</p>\r\n              <p className=\"logo__text\">кинопоиск</p>\r\n            </div>\r\n          </NavLink>\r\n          <div className=\"copyright\">\r\n            <p className=\"copyright__top\">Разработанно в студии</p>\r\n            <p className=\"copyright__bottom\">Не твоих собачьих дел</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://w91691o1.beget.tech/api/v1/',\r\n});\r\n\r\nconst begetApi = {\r\n    getUser: async (login, password) => {\r\n        return await instance.get(`users/?u=${login}&p=${password}`).then((res) => res.data);\r\n    },\r\n\r\n    setUserAvatar: async (data) => {\r\n        return await instance.post('users/', data).then((response) => response.data.url);\r\n    },\r\n};\r\n\r\nexport default begetApi;\r\n","export function getCookie(name) {\r\n  let matches = document.cookie.match(\r\n    new RegExp('(?:^|; )' + name.replace(/([.$?*|{}()[\\]\\\\/+^])/g, '\\\\$1') + '=([^;]*)')\r\n  );\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nexport function setCookie(name, value, options = {}) {\r\n  options = {\r\n    path: '/',\r\n    // при необходимости добавьте другие значения по умолчанию\r\n    ...options,\r\n  };\r\n\r\n  if (options.expires instanceof Date) {\r\n    options.expires = options.expires.toUTCString();\r\n  }\r\n\r\n  let updatedCookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);\r\n\r\n  for (let optionKey in options) {\r\n    updatedCookie += '; ' + optionKey;\r\n    let optionValue = options[optionKey];\r\n    if (optionValue !== true) {\r\n      updatedCookie += '=' + optionValue;\r\n    }\r\n  }\r\n\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n  setCookie(name, '', {\r\n    'max-age': -1,\r\n  });\r\n}\r\n","import begetApi from '../../api/begetApi';\r\nimport { setCookie } from '../../utils/functions';\r\n\r\nexport const fetchUser = (payload) => (dispatch) => {\r\n  begetApi.getUser(payload.login, payload.password).then((data) => {\r\n    if (data.status === 1) {\r\n      setCookie('login', payload.login);\r\n      setCookie('password', payload.password);\r\n\r\n      dispatch(setUser(data));\r\n    } else alert(data.message)\r\n  });\r\n};\r\n\r\nexport const fetchUpdateUserAvatar = (payload) => (dispatch) => {\r\n  begetApi.setUserAvatar(payload).then((data) => dispatch(setUserAvatar(data)));\r\n};\r\n\r\nexport const setUser = (payload) => {\r\n  return {\r\n    type: 'SET_USER',\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const setUserAvatar = (payload) => ({\r\n  type: 'SET_USER_AVATAR',\r\n  payload,\r\n});\r\n","import React from 'react';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport Header from '../../components/Header/Header';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport classes from './Layout.module.css';\r\n\r\nimport {fetchUser} from '../../redux/actions/users';\r\nimport {getCookie} from '../../utils/functions';\r\n\r\nconst Layout = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    if (getCookie('login')) {\r\n        const login = getCookie('login');\r\n        const password = getCookie('password');\r\n\r\n        dispatch(fetchUser({login, password}));\r\n    }\r\n\r\n    return (\r\n        <div className={classes.Layout}>\r\n            <Header/>\r\n            <main>{props.children}</main>\r\n            <Footer/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport heroBackground from \"../../img/hero-img.png\";\r\n\r\nconst Hero = ({link, ...props}) => (\r\n    <section className=\"hero\">\r\n        <div className=\"container\">\r\n            {\r\n                link\r\n                    ? <Link to={link} className=\"hero__wrapper\">\r\n                        <div className=\"hero__image-wrapper\">\r\n                            <img className=\"hero__image\" src={heroBackground} alt=\"Стетхем\"/>\r\n                        </div>\r\n                        <div className=\"hero__text-wrapper\">\r\n                            {props.children}\r\n                        </div>\r\n                    </Link>\r\n                    : <div className=\"hero__wrapper\">\r\n                        <div className=\"hero__image-wrapper\">\r\n                            <img className=\"hero__image\" src={heroBackground} alt=\"Стетхем\"/>\r\n                        </div>\r\n                        <div className=\"hero__text-wrapper\">\r\n                            {props.children}\r\n                        </div>\r\n                    </div>\r\n            }\r\n        </div>\r\n    </section>\r\n)\r\n\r\nexport default Hero","import React from 'react';\r\n\r\nimport Hero from \"../../components/Hero/Hero\";\r\nimport classes from './IndexPage.module.scss';\r\n\r\nfunction IndexPage(props) {\r\n    return (\r\n        <div className={classes.FilmsContainer}>\r\n            <section className=\"hero\">\r\n                <div className=\"container\">\r\n                    <Hero link={'/films/'}>\r\n                        <p className=\"hero__text\">Пора начать смотреть</p>\r\n                        <p className=\"hero__big-text\"><b>МУЖИЦКИЕ</b> ФИЛЬМЫ</p>\r\n                    </Hero>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default IndexPage;\r\n","import React from \"react\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nconst Button = (props) => {\r\n  const cls = [classes.Button, classes[props.type]];\r\n\r\n  return (\r\n    <button\r\n      onClick={props.onClick}\r\n      className={cls.join(\" \")}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\n\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Button from \"../UI/Button/Button\";\r\nimport {DeleteOutlined, EditOutlined} from \"@material-ui/icons\";\r\n\r\nimport classes from \"./FilmCard.module.scss\";\r\n\r\nconst FilmCard = ({onClickDeleteButton, onClickEditButton, showButtons, ...props}) => {\r\n    return (\r\n        <div className={classes.Card}>\r\n            <img src={props.poster} alt={props.filmName}/>\r\n            <div className={classes.Hover} onMouseEnter={props.onMouseEnter}>\r\n                {\r\n                    showButtons &&\r\n                    <div className={classes.Buttons}>\r\n                        <Button onClick={onClickEditButton}>\r\n                            <EditOutlined/>\r\n                        </Button>\r\n                        <Button onClick={onClickDeleteButton}>\r\n                            <DeleteOutlined/>\r\n                        </Button>\r\n                    </div>\r\n                }\r\n                <div className={classes.Info}>\r\n                    <NavLink to={\"/films/\" + props.title}>\r\n                        <Button onClick={props.onClick}>Подробнее</Button>\r\n                    </NavLink>\r\n                    <h3>{props.filmName}</h3>\r\n                    <p>{props.filmYear}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilmCard;\r\n","import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\";\r\n\r\nconst FilmCardPlaceholder = () => (\r\n  <ContentLoader className=\"film-card-placeholder\" height=\"450\">\r\n    <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" height=\"100%\" width=\"100%\" />\r\n  </ContentLoader>\r\n);\r\n\r\nexport default FilmCardPlaceholder;\r\n","import React from \"react\";\r\nimport classes from \"./Loader.module.scss\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className={classes.LoaderWrapper}>\r\n      <div className={classes.Loader}></div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport classNames from 'classnames';\r\n\r\nconst ModalNew = (props) => {\r\n    const [isOpen, setIsOpen] = useState(false)\r\n\r\n    const closeModal = (event) => {\r\n        if (event.target === event.currentTarget) {\r\n            props.closeModal();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (props.isOpen) {\r\n            setTimeout(() => setIsOpen(true))\r\n        } else if (!props.isOpen) {\r\n            setTimeout(() => setIsOpen(false))\r\n        }\r\n    }, [props.isOpen])\r\n\r\n    return (\r\n        <div className={classNames({modal: true, 'modal--active': isOpen})} onClick={closeModal}>\r\n            <div className=\"modal-body\">\r\n                <div className=\"modal-top\">\r\n                    <h4 className=\"modal-top__title\">{props.title}</h4>\r\n                    <div className=\"modal-top__close-button\" onClick={closeModal}/>\r\n                </div>\r\n                <div className=\"modal-content\">{props.children}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ModalNew;\r\n","import React from 'react';\r\nimport ModalNew from \"../../components/ModalNew/ModalNew\";\r\n\r\nconst withModal = (Component) => {\r\n    class WithModal extends React.Component {\r\n        state = {\r\n            isOpen: false,\r\n            isShow: false,\r\n            title: null,\r\n            component: null,\r\n            callback: null\r\n        }\r\n\r\n        openModal = () => this.setState({isOpen: true, isShow: true})\r\n\r\n        closeModal = () => {\r\n            this.setState({isOpen: false})\r\n            this.state.callback && this.state.callback.call()\r\n            setTimeout(() => this.setState({isShow: false}), 300)\r\n        }\r\n\r\n        createModal = (Component = <p>Пусто</p>, title = 'Заголовок', callback = null) => {\r\n            this.setState({component: Component, title: title, callback: callback})\r\n            this.openModal()\r\n        }\r\n\r\n        template = () => {\r\n            return (\r\n                <ModalNew {...this.state} closeModal={this.closeModal} openModal={this.openModal}>\r\n                    {this.state.component ? this.state.component : null}\r\n                </ModalNew>\r\n            )\r\n        }\r\n\r\n        render = () => {\r\n            return (\r\n                <>\r\n                    <Component closeModal={this.closeModal} createModal={this.createModal}\r\n                               modalIsOpen={this.state.isOpen} {...this.props}/>\r\n                    {this.state.isShow ? <this.template /> : null}\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n    return WithModal;\r\n};\r\n\r\nexport default withModal;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useDebouncedEffect} from \"../../utils/useDebouncedEffect\";\r\n\r\nimport filmApi from \"../../api/filmApi\";\r\nimport {Field, reduxForm, getFormValues,  stopSubmit, blur, reset} from \"redux-form\";\r\nimport {Button} from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport {TextField} from '@jcoreio/redux-form-material-ui'\r\nimport styles from './EditFilm.module.css';\r\n\r\nconst Input = (props) => <Field className={styles.input} variant=\"outlined\" component={TextField} {...props} />\r\n\r\nconst validate = values => {\r\n    const errors = {}\r\n\r\n    if (!values.id) {\r\n        errors.id = 'Обязательное поле';\r\n        errors._error = 'ID - Обязательное поле';\r\n    }\r\n\r\n    return errors\r\n}\r\n\r\nlet EditFilmForm = ({message, error, handleSubmit, pristine, submitting, initialId = null}) => {\r\n    return (\r\n        <form className={styles.form} onSubmit={handleSubmit}>\r\n            <Input name=\"id\" label=\"ID\" style={{'display': initialId ? 'none': ''}}/>\r\n            <Input name=\"imdbID\" label=\"imdbID\" disabled={!!error}/>\r\n            <Input name=\"title\" label=\"Название\" disabled={!!error}/>\r\n            <Input name=\"titleEn\" label=\"Название на английском\" disabled={!!error}/>\r\n            <Input name=\"year\" label=\"Год\" disabled={!!error}/>\r\n            <Input name=\"country\" label=\"Страна\" disabled={!!error}/>\r\n            <Input name=\"poster\" label=\"Обложка (url)\" disabled={!!error}/>\r\n            <Input name=\"video\" label=\"Трейлер (youtube id)\" disabled={!!error}/>\r\n            <Input name=\"genres\" label=\"Жанры (через запятую)\" disabled={!!error}/>\r\n            <Input name=\"type\" label=\"Тип (movie, series)\" disabled={!!error}/>\r\n            <Input name=\"description\" label=\"Описание\" disabled={!!error} rows={5} multiline/>\r\n\r\n            {message && <p className={styles.message}>{message}</p>}\r\n            {error && <p className={styles.errorMessage}>{error}</p>}\r\n            <Button type=\"submit\" size=\"large\" color=\"primary\" variant=\"contained\" startIcon={<SaveIcon/>}\r\n                    disabled={!!error}>\r\n                Сохранить\r\n            </Button>\r\n        </form>\r\n    );\r\n};\r\n\r\nEditFilmForm = reduxForm({form: 'editFilm', validate})(EditFilmForm)\r\n\r\nconst fields = ['imdbID', 'title', 'titleEn', 'year', 'country', 'poster', 'video', 'type', 'description']\r\n\r\nconst EditFilm = ({initialId = null, delayDebounce = 1000, callback = null}) => {\r\n    const dispatch = useDispatch()\r\n    const values = useSelector(getFormValues('editFilm'));\r\n    const [message, setMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        dispatch(blur('editFilm', 'id', initialId))\r\n    }, [dispatch, initialId])\r\n\r\n    useEffect(() => {\r\n        message && setTimeout(() => setMessage(null), 5000)\r\n\r\n    }, [message])\r\n\r\n    useDebouncedEffect(async () => {\r\n        const data = values?.id && await filmApi.getFilmById(values.id)\r\n\r\n        if (data) {\r\n            dispatch(blur('editFilm', 'genres', [...data.genres.map((item) => item.name)].join(', ')))\r\n            fields.forEach(field => dispatch(blur('editFilm', `${field}`, data[field])))\r\n        } else {\r\n            dispatch(blur('editFilm', 'genres', ''))\r\n            fields.forEach(field => dispatch(blur('editFilm', `${field}`, '')))\r\n        }\r\n    }, delayDebounce, [values?.id])\r\n\r\n    const onSubmit = (formData) => {\r\n        const data = {...formData}\r\n        data.genres = data?.genres ? data.genres.split(',').map((genre) => ({name: genre})) : []\r\n        data.year = Number(data.year)\r\n\r\n        filmApi.updateFilm(data.id, data)\r\n            .then(() => setMessage('Изменения сохранены'))\r\n            .then(() => callback && callback.call())\r\n            .catch(() => dispatch(stopSubmit('editFilm', {_error: 'Ошибка при изменении фильма'})))\r\n    }\r\n\r\n    return <EditFilmForm onSubmit={onSubmit} initialId={initialId} message={message}/>\r\n}\r\n\r\nexport default EditFilm;\r\n","import React, {useEffect, useState} from 'react';\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport {blur, Field, reduxForm, reset} from \"redux-form\";\r\nimport { Button } from '@material-ui/core';\r\nimport {TextField} from '@jcoreio/redux-form-material-ui'\r\nimport styles from './DeleteFilm.module.scss';\r\nimport filmApi from \"../../api/filmApi\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nconst Input = (props) => <Field className={styles.input} variant=\"outlined\" component={TextField} {...props} />\r\n\r\nlet DeleteFilmForm = ({message, errorMessage, handleSubmit, initialId = null}) => {\r\n    return (\r\n        <form className={styles.form} onSubmit={handleSubmit}>\r\n            <Input name=\"id\" label=\"ID\" style={{'display': initialId ? 'none': ''}} required/>\r\n\r\n            {message && <p className={styles.message}>{message}</p>}\r\n            {errorMessage && <p className={styles.errorMessage}>{errorMessage}</p>}\r\n\r\n            <Button type=\"submit\" size=\"large\" color=\"primary\" variant=\"contained\" startIcon={<DeleteIcon/>}>\r\n                Удалить\r\n            </Button>\r\n        </form>\r\n    )\r\n};\r\n\r\nDeleteFilmForm = reduxForm({form: 'deleteFilm'})(DeleteFilmForm)\r\n\r\nconst DeleteFilm = ({initialId = null, callback = null}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const [message, setMessage] = useState(null)\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        dispatch(blur('deleteFilm', 'id', initialId))\r\n    }, [dispatch, initialId])\r\n\r\n    const onSubmit = ({id}) => {\r\n        filmApi.deleteFilm(id)\r\n            .then(() => setMessage('Фильм удален'))\r\n            .then(() => callback && setTimeout(() => callback.call(), 4000))\r\n            .catch(() => setErrorMessage('Ошибка при удалении фильма'))\r\n\r\n        dispatch(reset('deleteFilm'))\r\n    }\r\n\r\n    return <DeleteFilmForm onSubmit={onSubmit} initialId={initialId} message={message} errorMessage={errorMessage} />\r\n};\r\n\r\nexport default DeleteFilm;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://movie-database-imdb-alternative.p.rapidapi.com/\",\r\n    headers: {\r\n        \"x-rapidapi-host\": \"movie-database-imdb-alternative.p.rapidapi.com\",\r\n        \"x-rapidapi-key\": \"421df21564mshec026f33dbed2d1p17da9djsn5014d3c84f92\"\r\n    },\r\n});\r\n\r\nconst IMDBAlternative = {\r\n    getFilm: (imdbID) => {\r\n        return instance.get(`?i=${imdbID}&r=json`).then(data => data.data);\r\n    }\r\n}\r\n\r\nexport default IMDBAlternative;\r\n","import filmApi from '../../api/filmApi';\r\nimport IMDBAlternative from '../../api/IMDBAlternative';\r\n\r\nexport const fetchFilms = (page = 1, size = 16) => (dispatch) => {\r\n  dispatch({ type: 'SET_LOADED', payload: false });\r\n\r\n  filmApi.getFilmsPage(page, size).then((data) => dispatch(setFilms(data)));\r\n};\r\n\r\nexport const fetchFilmByTitle = (title) => (dispatch) => {\r\n  filmApi.searchFilms(title).then((film) => dispatch(fetchFilmIMDBFields(film[0])));\r\n};\r\n\r\nexport const fetchFilmIMDBFields = (film) => (dispatch) => {\r\n  IMDBAlternative.getFilm(film.imdbID).then((data) => dispatch(setActiveFilm({ ...film, ...data })));\r\n};\r\n\r\nconst setFilms = (payload) => ({\r\n  type: 'SET_FILMS',\r\n  payload: {\r\n    items: [...payload.search],\r\n    totalItems: payload.totalResults,\r\n  },\r\n});\r\n\r\nexport const setActiveFilm = (payload) => ({\r\n  type: 'SET_ACTIVE_FILM',\r\n  payload,\r\n});\r\n\r\nexport const setLoaded = (payload) => ({\r\n  type: 'SET_LOADED',\r\n  payload,\r\n});\r\n","import React from 'react';\r\nimport Pagination from 'react-js-pagination';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport FilmCard from '../../components/FilmCard/FilmCard';\r\nimport FilmCardPlaceholder from '../../components/FilmCard/FilmCardPlaceholder';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport withModal from \"../../hoc/withModal/withModal\";\r\nimport EditFilm from \"../../forms/EditFilm/EditFilm\";\r\nimport DeleteFilm from \"../../forms/DeleteFilm/DeleteFilm\";\r\n\r\nimport {setPage} from '../../redux/actions/pagination';\r\nimport {fetchFilms} from '../../redux/actions/films';\r\nimport {getFilms, getTotalFilms} from \"../../redux/selectors/films\";\r\nimport {getUser} from \"../../redux/selectors/users\";\r\n\r\nimport heroBackground from '../../img/hero-img.png';\r\nimport classes from './FilmsContainer.module.scss';\r\n\r\nconst FilmsContainer = React.memo(function FilmsContainer({createModal, closeModal, modalIsOpen, ...props}) {\r\n    const dispatch = useDispatch();\r\n\r\n    const films = useSelector(state => getFilms(state))\r\n    const totalFilms = useSelector(state => getTotalFilms(state));\r\n    const load = useSelector(({films}) => films.isLoaded);\r\n    const {page, pageSize} = useSelector(({pagination}) => pagination);\r\n    const user = useSelector(state => getUser(state))\r\n\r\n    React.useEffect(() => {\r\n        !modalIsOpen && dispatch(fetchFilms(page, pageSize));\r\n    }, [modalIsOpen, dispatch, page, pageSize]);\r\n\r\n    const renderFilms = () => films.map((film) =>\r\n        <FilmCard key={film.id} title={film.title} poster={film.poster} filmName={film.title}\r\n                  filmYear={film.year} onClickDeleteButton={() => clickDeleteButtonHandler(film.id, film.title)}\r\n                  onClickEditButton={() => clickEditButtonHandler(film.id, film.title)} showButtons={user?.isAdmin}/>)\r\n\r\n    const onCloseModal = () => closeModal()\r\n\r\n    const clickEditButtonHandler = (id, title) => {\r\n        createModal(<EditFilm initialId={id} delayDebounce={0} callback={onCloseModal}/>, `Изменить фильм: ${title}`)\r\n    }\r\n\r\n    const clickDeleteButtonHandler = (id, title) => {\r\n        createModal(<DeleteFilm initialId={id} callback={onCloseModal}/>, `Удалить фильм: ${title}`)\r\n    }\r\n\r\n    const handlePageClick = (pageNumber) => {\r\n        if (pageNumber === page) return false;\r\n        dispatch(setPage(pageNumber));\r\n    };\r\n\r\n    const template = (\r\n        <div className=\"container\">\r\n            <Pagination\r\n                activePage={page}\r\n                itemsCountPerPage={pageSize}\r\n                totalItemsCount={totalFilms}\r\n                hideNavigation={true}\r\n                onChange={handlePageClick.bind(this)}\r\n            />\r\n            <div className={classes.FilmLibWrapper}>{renderFilms()}</div>\r\n            <Pagination\r\n                activePage={page}\r\n                itemsCountPerPage={pageSize}\r\n                totalItemsCount={totalFilms}\r\n                hideNavigation={true}\r\n                onChange={handlePageClick.bind(this)}\r\n            />\r\n        </div>\r\n    );\r\n\r\n    const loadingTemplate = (\r\n        <div className=\"loading\">\r\n            <div className=\"container\">\r\n                <Loader/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className={classes.FilmsContainer}>\r\n            <section className=\"hero\">\r\n                <div className=\"container\">\r\n                    <div className=\"hero__wrapper\">\r\n                        <div className=\"hero__image-wrapper\">\r\n                            <img className=\"hero__image\" src={heroBackground} alt=\"Стетхем\"/>\r\n                        </div>\r\n                        <div className=\"hero__text-wrapper\">\r\n                            <p className=\"hero__text\">Лучше иметь друга,</p>\r\n                            <p className=\"hero__big-text\">\r\n                                чем <b>ДРУГ ДРУГА</b>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            {load ? template : loadingTemplate}\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default withModal(FilmsContainer);\r\n","export const getFilms = (state) => state.films.items\r\n\r\nexport const getTotalFilms = (state) => state.films.totalItems\r\n","export const getUser = (state) => state.users.user\r\n","export const setPage = (payload) => ({\r\n  type: \"SET_PAGE\",\r\n  payload,\r\n});\r\n","import React from \"react\";\r\n\r\nimport classes from \"./FilmDetail.module.scss\";\r\n\r\nfunction FilmDetailFieldItem({name, value}) {\r\n    return (\r\n        <div className={classes.FilmDetailFieldItem}>\r\n            <p className={classes.FilmDetailFieldItemName}>{name}</p>\r\n            <p className={classes.FilmDetailFieldItemValue}>{value}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FilmDetailFieldItem;\r\n","import React from \"react\";\r\nimport Plyr from \"plyr-react\";\r\n\r\nconst VideoPlayer = (props) => {\r\n    return <Plyr source={{\r\n        type: 'video',\r\n        sources: [\r\n            {\r\n                src: props.youtubeId,\r\n                provider: 'youtube',\r\n            },\r\n        ]\r\n    }}\r\n    />\r\n}\r\n\r\nexport default VideoPlayer","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport classes from './FilmDetail.module.scss';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport FilmDetailFieldItem from './FilmDetailFieldItem';\r\nimport {fetchFilmByTitle, setActiveFilm} from '../../redux/actions/films';\r\nimport VideoPlayer from \"../../components/VideoPlayer/VideoPlayer\";\r\n\r\nconst FilmDetail = React.memo(function FilmDetail(props) {\r\n    const dispatch = useDispatch();\r\n\r\n    const {activeItem} = useSelector(({films}) => films);\r\n    const linkToImdb = (imdbID) =>\r\n        <a href={`https://www.imdb.com/title/${imdbID}`} target=\"_blank\" rel=\"noopener noreferrer\">Перейти</a>\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchFilmByTitle(props.match.params.title));\r\n        return () => dispatch(setActiveFilm(null));\r\n    }, [dispatch, props.match.params.title]);\r\n\r\n    const template = () => (\r\n        <div className=\"container\">\r\n            <div className={classes.FilmDetailWrapper}>\r\n                <div className={classes.FilmDetailTop}>\r\n                    <div className={classes.FilmDetailImageWrapper}>\r\n                        <img className={classes.FilmDetailImage} src={activeItem.poster} alt={activeItem.title}/>\r\n                    </div>\r\n\r\n                    <div className={classes.FilmDetailRight}>\r\n                        <h1>{activeItem.title}</h1>\r\n                        <p>{activeItem.titleEn}</p>\r\n                        <span className={classes.id}>id: {activeItem.id}</span>\r\n\r\n                        <div className={classes.FilmDetailField}>\r\n                            <FilmDetailFieldItem name=\"Год\" value={activeItem.year}/>\r\n                            <FilmDetailFieldItem name=\"Страна\" value={activeItem.country}/>\r\n                            <FilmDetailFieldItem name=\"Актеры\" value={activeItem.Actors}/>\r\n                            <FilmDetailFieldItem name=\"IMDb\" value={linkToImdb(activeItem?.imdbID)}/>\r\n                            <FilmDetailFieldItem name=\"Рейтинг IMDb\" value={activeItem.imdbRating}/>\r\n                            <FilmDetailFieldItem name=\"Metascore\" value={activeItem.Metascore}/>\r\n                            <FilmDetailFieldItem name=\"Жанры\" value={activeItem.Genre}/>\r\n                            <FilmDetailFieldItem name=\"Длительность\" value={activeItem.Runtime}/>\r\n                            <FilmDetailFieldItem name=\"Рейтинг\" value={activeItem.Rated}/>\r\n                            <FilmDetailFieldItem name=\"Описание\" value={activeItem.description}/>\r\n                        </div>\r\n\r\n                        <Link to=\"/\" className={classes.FilmDetailLink}>Назад</Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"plyr-wrapper\">\r\n                    {activeItem.video && <VideoPlayer youtubeId={activeItem.video}/>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return <div className={classes.FilmDetail}>\r\n        {activeItem ? template() : <Loader/>}\r\n    </div>;\r\n});\r\n\r\nexport default FilmDetail;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst withAuth = (Component) => {\r\n  class WithAuth extends React.Component {\r\n\r\n    render() {\r\n      if (!this.props.user) return <Redirect to=\"/profile/auth/\" />;\r\n      return <Component {...this.props} user={this.props.user} />;\r\n    }\r\n  }\r\n\r\n  const mapStateToProps = (state) => {\r\n    return { user: state.users.user };\r\n  };\r\n\r\n  return connect(mapStateToProps)(WithAuth);\r\n};\r\n\r\nexport default withAuth;\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\n\r\nconst Modal = (props) => {\r\n  const closeModal = (event) => {\r\n    if (event.target === event.currentTarget) {\r\n      props.toggleModalHadler();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classNames({ modal: true, 'modal--active': props.isModalOpen })} onClick={closeModal}>\r\n      <div className=\"modal-body\">\r\n        <div className=\"modal-top\">\r\n          <h4 className=\"modal-top__title\">{props.title}</h4>\r\n          <div className=\"modal-top__close-button\" onClick={props.toggleModalHadler} />\r\n        </div>\r\n        <div className=\"modal-content\">{props.children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\n\r\nimport styles from './CreateFilm.module.css';\r\n\r\nconst CreateFilm = (props) => {\r\n  return (\r\n    <form className={styles.form} onSubmit={props.formSubmit} name=\"create\">\r\n      {props.message && <p className={styles.message}>{props.message}</p>}\r\n      <TextField className={styles.input} name=\"imdbID\" label=\"imdbID\" variant=\"outlined\" required />\r\n      <TextField className={styles.input} name=\"title\" label=\"Название\" variant=\"outlined\" required />\r\n      <TextField className={styles.input} name=\"video\" label=\"Трейлер (youtube id)\" variant=\"outlined\" />\r\n      <TextField className={styles.input} name=\"description\" label=\"Описание\" variant=\"outlined\" rows={5} multiline />\r\n      <Button\r\n        name=\"button\"\r\n        type=\"submit\"\r\n        size=\"large\"\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        startIcon={<CloudUploadIcon />}\r\n      >\r\n        Создать\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreateFilm;\r\n","import React from 'react';\r\n\r\nimport IMDBAlternative from '../../api/IMDBAlternative';\r\nimport filmApi from '../../api/filmApi';\r\n\r\nimport {DataGrid} from '@material-ui/data-grid';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {fetchFilms} from '../../redux/actions/films';\r\n\r\nimport Modal from '../Modal/Modal';\r\nimport withModal from \"../../hoc/withModal/withModal\";\r\nimport CreateFilm from './CreateFilm/CreateFilm';\r\nimport EditFilm from \"../../forms/EditFilm/EditFilm\";\r\nimport DeleteFilm from \"../../forms/DeleteFilm/DeleteFilm\";\r\n\r\nimport styles from './API.module.css';\r\n\r\nconst API = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [isModalOpen, setIsModalOpen] = React.useState(false);\r\n    const [modalTitle, setModalTitle] = React.useState(null);\r\n    const [modalContent, setModalContent] = React.useState(null);\r\n    const [message, setMessage] = React.useState(null);\r\n\r\n    const films = useSelector((store) => store.films.items);\r\n\r\n    React.useEffect(() => {\r\n        !isModalOpen && setMessage(null);\r\n\r\n        dispatch(fetchFilms(1, 50));\r\n    }, [dispatch, isModalOpen]);\r\n\r\n    const formSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        const target = event.target;\r\n\r\n        let movieItem = {};\r\n\r\n        switch (target.name) {\r\n            case 'create':\r\n                IMDBAlternative.getFilm(target.imdbID.value).then((data) => {\r\n                    movieItem = {\r\n                        imdbID: target.imdbID.value,\r\n                        title: target.title.value,\r\n                        description: target.description.value,\r\n                        country: data.Country,\r\n                        genres: data.Genre.split(',').map((genre) => ({name: genre})),\r\n                        poster: data.Poster,\r\n                        titleEn: data.Title,\r\n                        type: data.Type,\r\n                        video: target.video.value,\r\n                        year: +data.Year,\r\n                    };\r\n\r\n                    filmApi.instance.post('create', movieItem).then(() => setMessage('Успешно'));\r\n                    return target.reset();\r\n                });\r\n                break;\r\n            default:\r\n                return console.warn('Нет такой формы');\r\n        }\r\n    };\r\n\r\n    const toggleModalHadler = (event) => {\r\n        setIsModalOpen(!isModalOpen);\r\n        setModalTitle(event?.target?.innerText || null);\r\n        setModalContent(event?.target?.dataset.content || null);\r\n    };\r\n\r\n    let columns, rows;\r\n\r\n    if (films.length) {\r\n        columns = Object.keys(films[0]).map((film) => ({field: String(film), width: 200}));\r\n\r\n        columns[0].width = 60;\r\n        columns[3].width = 100;\r\n        columns[4].width = 100;\r\n        columns[5].width = 100;\r\n        columns[6].width = 300;\r\n        columns[7].width = 400;\r\n        columns[10] = {};\r\n\r\n        rows = [...films];\r\n    }\r\n\r\n    return (\r\n        <div className={styles.API}>\r\n            <h2 className={styles.title}>Редактирование фильмов</h2>\r\n            <div className={styles.wrapper}>\r\n                <button className={styles.button} onClick={toggleModalHadler} data-content=\"create\">\r\n                    Добавить фильм\r\n                </button>\r\n                <button className={styles.button} onClick={() => props.createModal(<EditFilm />, 'Изменить фильм')}>\r\n                    Изменить фильм\r\n                </button>\r\n                <button className={styles.button} onClick={() => props.createModal(<DeleteFilm />, 'Удалить фильм')}>\r\n                    Удалить фильм\r\n                </button>\r\n            </div>\r\n            <div className={styles.filmsWrapper}>\r\n                <h2 className={styles.title}>Список фильмов</h2>\r\n                <div className={styles.films}>\r\n                    <div style={{height: 800, width: '100%'}}>\r\n                        {films.length && <DataGrid rows={rows} columns={columns} rowHeight={25} checkboxSelection/>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Modal title={modalTitle} toggleModalHadler={toggleModalHadler} isModalOpen={isModalOpen}>\r\n                {modalContent === 'create' && <CreateFilm formSubmit={formSubmit} message={message}/>}\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default withModal(API);\r\n","import React from 'react';\r\n\r\nimport API from '../API/API';\r\n\r\nconst Profile = ({ user, onImageChange, onButtonClick }) => {\r\n  const image = user.avatar ? user.avatar : 'https://www.tclilibrary.com/admin2/dist/use.png';\r\n\r\n  return (\r\n    <section className=\"profile-section\">\r\n      <div className=\"container\">\r\n        <div className=\"profile-about\">\r\n          <h1 className=\"page-title\">Личный кабинет</h1>\r\n          <div className=\"profile-about__wrapper\">\r\n            <div className=\"profile-about__aside\">\r\n              <div className=\"profile-info\">\r\n                <div className=\"profile-info__image-wrapper\">\r\n                  <label>\r\n                    <input\r\n                      name=\"avatar\"\r\n                      type=\"file\"\r\n                      style={{ display: 'none' }}\r\n                      accept=\".jpg, .jpeg, .png\"\r\n                      onChange={onImageChange}\r\n                    />\r\n                    <img className=\"profile-info__image\" src={image} alt={user.name} />\r\n                  </label>\r\n                </div>\r\n                <button className=\"profile-info__logout\" onClick={onButtonClick}>\r\n                  Выйти\r\n                </button>\r\n                <div className=\"profile-info__name\">{user.name}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"profile-about__content\">{user.isAdmin ? <API /> : null}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport Profile from '../../components/Profile/Profile';\r\nimport {deleteCookie} from '../../utils/functions';\r\n\r\nimport {fetchUpdateUserAvatar, setUser} from '../../redux/actions/users';\r\n\r\nconst ProfileContainer = ({user}) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const imageChangeHandler = (event) => {\r\n        const formData = new FormData();\r\n\r\n        formData.append('avatar', event.target.files[0]);\r\n        formData.append('id', user.id);\r\n        user.avatar && formData.append('url', user.avatar.split('/').reverse()[0]);\r\n\r\n        dispatch(fetchUpdateUserAvatar(formData));\r\n    };\r\n\r\n    const buttonClickHandler = () => {\r\n        deleteCookie('login');\r\n        deleteCookie('password');\r\n        dispatch(setUser(null));\r\n    };\r\n\r\n    return (\r\n        <Profile\r\n            onImageChange={imageChangeHandler}\r\n            onButtonClick={buttonClickHandler}\r\n            user={user}\r\n        />\r\n    );\r\n};\r\n\r\nexport default ProfileContainer;\r\n","import React from 'react';\r\n\r\nimport withAuth from \"../../hoc/withAuth/withAuth\";\r\nimport ProfileContainer from \"../../containers/ProfileContainer/ProfileContainer\";\r\nimport Hero from \"../../components/Hero/Hero\";\r\n\r\nconst ProfilePage = (props) => {\r\n    return (\r\n        <>\r\n            <Hero>\r\n                <p className=\"hero__text\">Если волк молчит, то</p>\r\n                <p className=\"hero__big-text\">лучше его не <b>перебивать</b></p>\r\n            </Hero>\r\n            <ProfileContainer {...props} />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default withAuth(ProfilePage);\r\n","import React from 'react';\r\nimport {Button} from '@material-ui/core';\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {TextField} from '@jcoreio/redux-form-material-ui'\r\n\r\nlet AuthForm = ({handleSubmit, pristine, submitting}) => {\r\n    return (\r\n        <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n            <h2>Авторизация</h2>\r\n            <Field className=\"auth-form__input\" name=\"login\" type=\"text\" label=\"Ваш логин\" autoComplete=\"username\"\r\n                   component={TextField} required/>\r\n            <Field className=\"auth-form__input\" name=\"password\" type=\"password\" label=\"Ваш пароль\"\r\n                   autoComplete={'current-password'} component={TextField} required/>\r\n            <Button color=\"primary\" type=\"submit\" variant=\"contained\" disabled={pristine || submitting}>Войти</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nAuthForm = reduxForm({form: 'auth'})(AuthForm)\r\n\r\nconst Auth = ({formSubmitHandler}) => (\r\n    <section className=\"auth-section\">\r\n        <div className=\"container\">\r\n            <AuthForm onSubmit={formSubmitHandler}/>\r\n        </div>\r\n    </section>\r\n);\r\n\r\nexport default Auth;\r\n","import React from 'react';\r\n\r\nimport {fetchUser} from \"../../redux/actions/users\";\r\nimport Auth from \"../../forms/AuthForm/Auth\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Hero from \"../../components/Hero/Hero\";\r\n\r\nfunction AuthPage(props) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(({users}) => users.user)\r\n\r\n    React.useEffect(() => {\r\n        user && props.history.push('/profile/')\r\n    }, [user, props.history])\r\n\r\n    const formSubmitHandler = ({login, password}) => {\r\n        dispatch(fetchUser({login, password}));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Hero>\r\n                <p className=\"hero__text\">Лезешь в ВОЛКИ,</p>\r\n                <p className=\"hero__big-text\">а хвост <b>собачий</b></p>\r\n            </Hero>\r\n            <Auth formSubmitHandler={formSubmitHandler}/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default AuthPage;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport Layout from './containers/Layout/Layout';\r\nimport IndexPage from \"./routes/IndexPage/IndexPage\";\r\nimport FilmsContainer from './containers/FilmsContainer/FilmsContainer';\r\nimport FilmDetail from './containers/FilmDetail/FilmDetail';\r\nimport ProfilePage from \"./routes/ProfilePage/ProfilePage\";\r\nimport AuthPage from \"./routes/AuthPage/AuthPage\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Layout>\r\n      <Switch>\r\n        <Route path=\"/films/:title\" component={FilmDetail} />\r\n        <Route path=\"/films/\" component={FilmsContainer} />\r\n        <Route path=\"/profile/auth\" component={AuthPage} />\r\n        <Route path=\"/profile/\" component={ProfilePage} />\r\n        <Route path=\"/\" component={IndexPage} />\r\n      </Switch>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport store from './redux/store';\r\nimport App from './App';\r\nimport './scss/styles.scss';\r\n\r\nconst app = (\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"API_wrapper__1aSB6\",\"title\":\"API_title__1ZQn5\",\"button\":\"API_button__1LxHb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"CreateFilm_form__1PTed\",\"input\":\"CreateFilm_input__3ONeu\",\"message\":\"CreateFilm_message__1nvVn\"};","module.exports = __webpack_public_path__ + \"static/media/hero-img.a3143511.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"FilmCard_Card__2m5XY\",\"Hover\":\"FilmCard_Hover__ktyJM\",\"Info\":\"FilmCard_Info__3764W\",\"Buttons\":\"FilmCard_Buttons__PRefz\"};"],"sourceRoot":""}