(this.webpackJsonpfilmapi=this.webpackJsonpfilmapi||[]).push([[0],{102:function(e,a,t){e.exports={Input:"Input_Input__1C9aY"}},103:function(e,a,t){e.exports={Layout:"Layout_Layout__3gHwl"}},106:function(e,a,t){e.exports=t.p+"static/media/hero-img.a3143511.png"},132:function(e,a,t){e.exports=t(163)},162:function(e,a,t){},163:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),i=t.n(l),c=t(14),o=t(22),m=t(39),s=t(101),u=t(12),p={items:[],activeItem:null,isLoaded:!1,totalItems:0},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_FILMS":return Object(u.a)(Object(u.a)({},e),{},{items:a.payload.items,totalItems:a.payload.totalItems,isLoaded:!0});case"SET_ACTIVE_FILM":return Object(u.a)(Object(u.a)({},e),{},{activeItem:a.payload});case"SET_LOADED":return Object(u.a)(Object(u.a)({},e),{},{isLoaded:a.payload});default:return e}},v={page:1,pageSize:16},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_PAGE":return Object(u.a)(Object(u.a)({},e),{},{page:a.payload});default:return e}},f={searchText:"",searchItems:[]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_SEARCH_TEXT":return Object(u.a)(Object(u.a)({},e),{},{searchText:a.payload});case"SET_SEARCH_ITEMS":return Object(u.a)(Object(u.a)({},e),{},{searchItems:a.payload});default:return e}},b={user:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_USER":return Object(u.a)(Object(u.a)({},e),{},{user:a.payload});case"SET_USER_AVATAR":return Object(u.a)(Object(u.a)({},e),{},{user:Object(u.a)(Object(u.a)({},e.user),{},{avatar:a.payload})});default:return e}},h=Object(m.c)({films:d,pagination:E,search:_,users:g}),N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,F=Object(m.e)(h,N(Object(m.a)(s.a))),y=t(15),I=t(10),w=function(){return r.a.createElement(o.c,{to:"/",className:"logo"},r.a.createElement("svg",{className:"logo__svg",viewBox:"0 0 80 67",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M65.356 38.7048H61.3287V33.9083C66.8456 30.8006 70.5823 24.8877 70.5823 18.115C70.5823 8.1263 62.4598 0 52.4757 0C44.4803 0 37.6834 5.21366 35.2912 12.4196C32.8987 5.21366 26.102 0.000222284 18.1066 0.000222284C8.12253 0.000222284 0 8.12652 0 18.115C0 24.8877 3.7367 30.8004 9.25339 33.9081V67H61.3285V59.0652H65.9613L80 66.6146V31.1963L65.356 38.7048ZM24.4999 27.9578L18.1066 24.1024L11.7134 27.9578L13.4027 20.6834L7.76196 15.7915L15.1994 15.151L18.1066 8.27242L21.0137 15.151L28.4511 15.7915L22.8104 20.6834L24.4999 27.9578ZM31.0449 30.7702C32.9476 28.8235 34.4144 26.4513 35.2912 23.8104C36.1679 26.451 37.6347 28.8235 39.5374 30.7702H31.0449ZM57.1796 20.6834L58.8689 27.9578L52.4757 24.1024L46.0825 27.9578L47.7717 20.6834L42.131 15.7915L49.5684 15.151L52.4755 8.27242L55.3825 15.151L62.8199 15.7915L57.1796 20.6834Z"})),r.a.createElement("div",{className:"logo__text-wrapper"},r.a.createElement("p",{className:"logo__big-text"},"\u041a\u0430\u0432\u043a\u0430\u0437\u0441\u043a\u0438\u0439"),r.a.createElement("p",{className:"logo__text"},"\u043a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a")))},D=t(18),C=t.n(D),O=t(31),L=t(49),j=t.n(L),S=j.a.create({baseURL:"https://film-api-backend.herokuapp.com/movies/",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),k={instance:S,getFilmsPage:function(){var e=Object(O.a)(C.a.mark((function e(a,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/page=".concat(a,"/size=").concat(t)).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),getFilm:function(){var e=Object(O.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/find?title=".concat(a)).then((function(e){return e.data.search[0]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},x=function(e){return{type:"SET_SEARCH_TEXT",payload:e}},T=function(e){return{type:"SET_SEARCH_ITEMS",payload:e}},A=t(102),M=t.n(A),P=function(e){var a=e.type||"text";return r.a.createElement("input",{className:M.a.Input,type:a,name:e.name,value:e.value,placeholder:e.placeholder,autoComplete:e.autoComplete,onChange:e.onChange,required:e.required})},R=t(72),H=t.n(R),U=function(){var e=Object(c.b)(),a=Object(n.useRef)(),t=Object(y.f)(),l=Object(c.c)((function(e){return e.search})),i=l.searchText,m=l.searchItems;r.a.useEffect((function(){var a;i?(console.log("API GET SEARCH"),e((a=i,function(e){return k.get("/find?title=".concat(a)).then((function(a){var t=a.data;e(T(t.search))}))}))):e(T([]))}),[e,i]);var s=function(){var a=Object(O.a)(C.a.mark((function a(){return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e(x(""));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),u=function(){var a=Object(O.a)(C.a.mark((function a(n){var r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),m.length&&(r=m[0].title,e(x("")),t.push("/film/".concat(r)));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:H.a.Search},r.a.createElement("form",{onSubmit:u},r.a.createElement(P,{value:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",onChange:function(a){e(x(a.target.value))}}),r.a.createElement("ul",{className:H.a.Dropdown,ref:a},m.map((function(e){return r.a.createElement("li",{key:e.id,"data-title":e.title},r.a.createElement(o.b,{to:"/film/".concat(e.title),className:H.a.Link,onClick:s},e.title))}))),r.a.createElement("button",null)))},B=t(37),V=t.n(B),W=[{name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",link:"/"},{name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",link:"/profile"}],q=function(e){var a=e.isMenuOpen,t=e.toggleMenuHandler;return r.a.createElement("div",{className:V()({menu:!0,"menu--active":a})},r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"nav__list"},W.map((function(e,a){return r.a.createElement("li",{className:"nav__item",key:a},r.a.createElement(o.b,{to:e.link,className:"nav__link",onClick:t},e.name))})))))},z=function(e){var a=e.isMenuOpen,t=e.toggleMenuHandler;return r.a.createElement("div",{onClick:t,className:V()({hamburger:!0,"hamburger--active":a})},r.a.createElement("div",{className:"hamburger__item"}),r.a.createElement("div",{className:"hamburger__item"}),r.a.createElement("div",{className:"hamburger__item"}))};function G(){var e=Object(n.useState)(!1),a=Object(I.a)(e,2),t=a[0],l=a[1],i=function(){return l(!t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header__wrapper"},r.a.createElement(w,null),r.a.createElement(U,null),r.a.createElement(z,{isMenuOpen:t,toggleMenuHandler:i})))),r.a.createElement(q,{isMenuOpen:t,toggleMenuHandler:i}))}var Y=function(e){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"footer__wrapper"},r.a.createElement(o.c,{to:"/",className:"logo"},r.a.createElement("div",{className:"logo__text-wrapper"},r.a.createElement("p",{className:"logo__big-text"},"\u041a\u0430\u0432\u043a\u0430\u0437\u0441\u043a\u0438\u0439"),r.a.createElement("p",{className:"logo__text"},"\u043a\u0438\u043d\u043e\u043f\u043e\u0438\u0441\u043a"))),r.a.createElement("div",{className:"copyright"},r.a.createElement("p",{className:"copyright__top"},"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u043e \u0432 \u0441\u0442\u0443\u0434\u0438\u0438"),r.a.createElement("p",{className:"copyright__bottom"},"\u041d\u0435 \u0442\u0432\u043e\u0438\u0445 \u0441\u043e\u0431\u0430\u0447\u044c\u0438\u0445 \u0434\u0435\u043b")))))},X=t(103),Z=t.n(X),J=j.a.create({baseURL:"http://w91691o1.beget.tech/api/v1/"}),Q={getUser:function(){var e=Object(O.a)(C.a.mark((function e(a,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("users/?u=".concat(a,"&p=").concat(t)).then((function(e){switch(e.data.status){case 0:return alert(e.data.message);case 1:return e.data}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),setUserAvatar:function(){var e=Object(O.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("users/",a).then((function(e){return e.data.url}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()};function $(e){var a=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return a?decodeURIComponent(a[1]):void 0}function K(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(t=Object(u.a)({path:"/"},t)).expires instanceof Date&&(t.expires=t.expires.toUTCString());var n=encodeURIComponent(e)+"="+encodeURIComponent(a);for(var r in t){n+="; "+r;var l=t[r];!0!==l&&(n+="="+l)}document.cookie=n}function ee(e){K(e,"",{"max-age":-1})}var ae=function(e){return function(a){Q.getUser(e.login,e.password).then((function(t){K("login",e.login),K("password",e.password),a(te(t))}))}},te=function(e){return{type:"SET_USER",payload:e}},ne=function(e){return{type:"SET_USER_AVATAR",payload:e}},re=function(e){var a=Object(c.b)();if($("login")){var t=$("login"),n=$("password");a(ae({login:t,password:n}))}return r.a.createElement("div",{className:Z.a.Layout},r.a.createElement(G,null),r.a.createElement("main",null,e.children),r.a.createElement(Y,null))},le=t(104),ie=t.n(le),ce=t(73),oe=t.n(ce),me=t(81),se=t.n(me),ue=function(e){var a=[se.a.Button,se.a[e.type]];return r.a.createElement("button",{onClick:e.onClick,className:a.join(" "),disabled:e.disabled},e.children)},pe=function(e){return r.a.createElement("div",{className:oe.a.FilmCard},r.a.createElement("img",{src:e.poster,alt:e.filmName}),r.a.createElement("div",{className:oe.a.FilmCardHover,onMouseEnter:e.onMouseEnter},r.a.createElement("div",{className:oe.a.FilmInfo},r.a.createElement(o.c,{to:"/film/"+e.title},r.a.createElement(ue,{onClick:e.onClick},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")),r.a.createElement("h3",null,e.filmName),r.a.createElement("p",null,e.filmYear))))},de=t(82),ve=t.n(de);function Ee(){return r.a.createElement("div",{className:ve.a.LoaderWrapper},r.a.createElement("div",{className:ve.a.Loader}))}var fe=t(105),_e=function(){return r.a.createElement(fe.a,{className:"film-card-placeholder",height:"450"},r.a.createElement("rect",{x:"0",y:"0",rx:"5",ry:"5",height:"100%",width:"100%"}))},be=t(83),ge=t.n(be),he=t(106),Ne=t.n(he),Fe=t(21),ye=j.a.create({baseURL:"https://movie-database-imdb-alternative.p.rapidapi.com/",headers:{"x-rapidapi-host":"movie-database-imdb-alternative.p.rapidapi.com","x-rapidapi-key":"421df21564mshec026f33dbed2d1p17da9djsn5014d3c84f92"}}),Ie={getFilm:function(e){return ye.get("?i=".concat(e,"&r=json")).then((function(e){return e.data}))}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return function(t){t({type:"SET_LOADED",payload:!1}),k.getFilmsPage(e,a).then((function(e){return t(Ce(e))}))}},De=function(e){return function(a){Ie.getFilm(e.imdbID).then((function(t){return a(Oe(Object(u.a)(Object(u.a)({},e),t)))}))}},Ce=function(e){return{type:"SET_FILMS",payload:{items:Object(Fe.a)(e.search),totalItems:e.totalResults}}},Oe=function(e){return{type:"SET_ACTIVE_FILM",payload:e}};var Le=function(){var e=Object(c.b)(),a=Object(c.c)((function(e){return e.films.items})),t=Object(c.c)((function(e){return e.films.totalItems})),n=Object(c.c)((function(e){return e.films.isLoaded})),l=Object(c.c)((function(e){return e.pagination})),i=l.page,o=l.pageSize;r.a.useEffect((function(){e(we(i,o))}),[e,i,o]);var m=r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:ge.a.FilmLibWrapper},a.map((function(e){return r.a.createElement(pe,{key:e.id,title:e.title,poster:e.poster,filmName:e.title,filmYear:e.year})}))),r.a.createElement(ie.a,{activePage:i,itemsCountPerPage:o,totalItemsCount:t,hideFirstLastPages:!0,hideNavigation:!0,onChange:function(a){if(a===i)return!1;e({type:"SET_PAGE",payload:a})}.bind(this)})),s=r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"container"},r.a.createElement(Ee,null),r.a.createElement(_e,null),r.a.createElement(_e,null),r.a.createElement(_e,null),r.a.createElement(_e,null),r.a.createElement(_e,null),r.a.createElement(_e,null),r.a.createElement(_e,null),r.a.createElement(_e,null)));return r.a.createElement("div",{className:ge.a.FilmsContainer},r.a.createElement("section",{className:"hero"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"hero__wrapper"},r.a.createElement("div",{className:"hero__image-wrapper"},r.a.createElement("img",{className:"hero__image",src:Ne.a,alt:"\u0421\u0442\u0435\u0442\u0445\u0435\u043c"})),r.a.createElement("div",{className:"hero__text-wrapper"},r.a.createElement("p",{className:"hero__text"},"\u041f\u043e\u0440\u0430 \u043d\u0430\u0447\u0430\u0442\u044c \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"),r.a.createElement("p",{className:"hero__big-text"},r.a.createElement("b",null,"\u041c\u0423\u0416\u0418\u0426\u041a\u0418\u0415")," \u0424\u0418\u041b\u042c\u041c\u042b"))))),n?m:s)},je=t(25),Se=t.n(je);var ke=function(e){var a=e.name,t=e.value;return r.a.createElement("div",{className:Se.a.FilmDetailFieldItem},r.a.createElement("p",{className:Se.a.FilmDetailFieldItemName},a),r.a.createElement("p",{className:Se.a.FilmDetailFieldItemValue},t))},xe=t(107),Te=function(e){return r.a.createElement(xe.a,{source:{type:"video",sources:[{src:e.youtubeId,provider:"youtube"}]}})},Ae=r.a.memo((function(e){var a=Object(c.b)(),t=Object(c.c)((function(e){return e.films})).activeItem;r.a.useEffect((function(){var t;return a((t=e.match.params.title,function(e){k.getFilm(t).then((function(a){return e(De(a))}))})),function(){return a(Oe(null))}}),[a,e.match.params.title]);return console.log(t),r.a.createElement("div",{className:Se.a.FilmDetail},t?function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:Se.a.FilmDetailWrapper},r.a.createElement("div",{className:Se.a.FilmDetailTop},r.a.createElement("div",{className:Se.a.FilmDetailImageWrapper},r.a.createElement("img",{className:Se.a.FilmDetailImage,src:t.poster,alt:t.title})),r.a.createElement("div",{className:Se.a.FilmDetailRight},r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.titleEn),r.a.createElement("span",{className:Se.a.id},"id: ",t.id),r.a.createElement("div",{className:Se.a.FilmDetailField},r.a.createElement(ke,{name:"\u0413\u043e\u0434",value:t.year}),r.a.createElement(ke,{name:"\u0421\u0442\u0440\u0430\u043d\u0430",value:t.country}),r.a.createElement(ke,{name:"\u0410\u043a\u0442\u0435\u0440\u044b",value:t.Actors}),r.a.createElement(ke,{name:"IMDb",value:(e=null===t||void 0===t?void 0:t.imdbID,r.a.createElement("a",{href:"https://www.imdb.com/title/".concat(e),target:"_blank",rel:"noopener noreferrer"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"))}),r.a.createElement(ke,{name:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 IMDb",value:t.imdbRating}),r.a.createElement(ke,{name:"Metascore",value:t.Metascore}),r.a.createElement(ke,{name:"\u0416\u0430\u043d\u0440\u044b",value:t.Genre}),r.a.createElement(ke,{name:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",value:t.Runtime}),r.a.createElement(ke,{name:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",value:t.Rated}),r.a.createElement(ke,{name:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:t.description})),r.a.createElement(o.b,{to:"/",className:Se.a.FilmDetailLink},"\u041d\u0430\u0437\u0430\u0434"))),r.a.createElement("div",{className:"plyr-wrapper"},t.video&&r.a.createElement(Te,{youtubeId:t.video}))));var e}():r.a.createElement(Ee,null))})),Me=t(213),Pe=t(211),Re=function(e){var a=e.onFormSubmit;return r.a.createElement("section",{className:"auth-section"},r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"auth-form",onSubmit:a},r.a.createElement("h2",null,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement(Me.a,{className:"auth-form__input",name:"user-name",label:"\u0412\u0430\u0448 \u043b\u043e\u0433\u0438\u043d",autoComplete:"username"}),r.a.createElement(Me.a,{className:"auth-form__input",name:"password",type:"password",label:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"current-password"}),r.a.createElement(Pe.a,{type:"submit",color:"primary",variant:"contained"},"\u0412\u043e\u0439\u0442\u0438"))))},He=t(112),Ue=t.n(He),Be=t(47),Ve=t.n(Be),We=function(e){return r.a.createElement("form",{className:Ve.a.form,onSubmit:e.formSubmit,name:"create"},e.message&&r.a.createElement("p",{className:Ve.a.message},e.message),r.a.createElement(Me.a,{className:Ve.a.input,name:"imdbID",label:"imdbID",variant:"outlined",required:!0}),r.a.createElement(Me.a,{className:Ve.a.input,name:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",required:!0}),r.a.createElement(Me.a,{className:Ve.a.input,name:"video",label:"\u0422\u0440\u0435\u0439\u043b\u0435\u0440 (youtube id)",variant:"outlined"}),r.a.createElement(Me.a,{className:Ve.a.input,name:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",rows:5,multiline:!0}),r.a.createElement(Pe.a,{name:"button",type:"submit",size:"large",color:"primary",variant:"contained",startIcon:r.a.createElement(Ue.a,null)},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))},qe=t(113),ze=t.n(qe),Ge=t(26),Ye=t.n(Ge),Xe=function(e){return r.a.createElement("form",{className:Ye.a.form,onSubmit:e.formSubmit,name:"edit",onChange:e.formChange},e.message&&r.a.createElement("p",{className:Ye.a.message},e.message),r.a.createElement(Me.a,{className:Ye.a.input,name:"id",label:"ID",variant:"outlined",InputLabelProps:{shrink:!0},required:!0}),r.a.createElement(Me.a,{className:Ye.a.input,name:"imdbID",label:"imdbID",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{className:Ye.a.input,name:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{className:Ye.a.input,name:"titleEn",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{className:Ye.a.input,name:"year",label:"\u0413\u043e\u0434",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{className:Ye.a.input,name:"country",label:"\u0421\u0442\u0440\u0430\u043d\u0430",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{className:Ye.a.input,name:"poster",label:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 (url)",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{className:Ye.a.input,name:"video",label:"\u0422\u0440\u0435\u0439\u043b\u0435\u0440 (youtube key)",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{className:Ye.a.input,name:"genres",label:"\u0416\u0430\u043d\u0440\u044b (\u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e)",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{className:Ye.a.input,name:"type",label:"\u0422\u0438\u043f (movie, series)",variant:"outlined",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{className:Ye.a.input,name:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",variant:"outlined",InputLabelProps:{shrink:!0},rows:5,multiline:!0}),r.a.createElement(Pe.a,{name:"button",type:"submit",size:"large",color:"primary",variant:"contained",startIcon:r.a.createElement(ze.a,null)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))},Ze=t(114),Je=t.n(Ze),Qe=t(74),$e=t.n(Qe),Ke=function(e){return r.a.createElement("form",{className:$e.a.form,onSubmit:e.formSubmit,name:"delete"},e.message&&r.a.createElement("p",{className:$e.a.message},e.message),r.a.createElement(Me.a,{className:$e.a.input,name:"id",label:"ID",variant:"outlined",InputLabelProps:{shrink:!0},required:!0}),r.a.createElement(Pe.a,{name:"button",type:"submit",size:"large",color:"primary",variant:"contained",startIcon:r.a.createElement(Je.a,null)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))},ea=function(e){var a=Object(n.useState)({isOpen:!1});console.log(a);return r.a.createElement("div",{className:V()({modal:!0,"modal--active":e.isModalOpen}),onClick:function(a){a.target===a.currentTarget&&e.toggleModalHadler()}},r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"modal-top"},r.a.createElement("h4",{className:"modal-top__title"},e.title),r.a.createElement("div",{className:"modal-top__close-button",onClick:e.toggleModalHadler})),r.a.createElement("div",{className:"modal-content"},e.children)))},aa=t(36),ta=t.n(aa),na=t(115),ra=function(){var e=Object(c.b)(),a=r.a.useState(!1),t=Object(I.a)(a,2),n=t[0],l=t[1],i=r.a.useState(null),o=Object(I.a)(i,2),m=o[0],s=o[1],u=r.a.useState(null),p=Object(I.a)(u,2),d=p[0],v=p[1],E=r.a.useState(null),f=Object(I.a)(E,2),_=f[0],b=f[1],g=Object(c.c)((function(e){return e.films.items}));r.a.useEffect((function(){!n&&b(null),e(we(1,50))}),[e,n]);var h,N,F=function(e){e.preventDefault();var a=e.target,t={};switch(a.name){case"create":Ie.getFilm(a.imdbID.value).then((function(e){return t={imdbID:a.imdbID.value,title:a.title.value,description:a.description.value,country:e.Country,genres:e.Genre.split(",").map((function(e){return{name:e}})),poster:e.Poster,titleEn:e.Title,type:e.Type,video:a.video.value,year:+e.Year},k.instance.post("create",t).then((function(){return b("\u0423\u0441\u043f\u0435\u0448\u043d\u043e")})),a.reset()}));break;case"edit":t={country:a.country.value,description:a.description.value,genres:a.genres.value.split(",").map((function(e){return{name:e}})),id:a.id.value,imdbID:a.imdbID.value,poster:a.poster.value,title:a.title.value,titleEn:a.titleEn.value,type:a.type.value,video:a.video.value,year:+a.year.value},k.instance.put("update/".concat(a.id.value),t).then((function(){return b("\u0423\u0441\u043f\u0435\u0448\u043d\u043e")})).catch((function(e){return console.warn(e)})),a.reset();break;case"delete":k.instance.delete("delete/".concat(a.id.value)).then((function(){return b("\u0423\u0441\u043f\u0435\u0448\u043d\u043e")})),a.reset();break;default:return console.warn("\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0439 \u0444\u043e\u0440\u043c\u044b")}},y=function(e){var a,t;l(!n),s((null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.innerText)||null),v((null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.dataset.content)||null)};return g.length&&((h=Object.keys(g[0]).map((function(e){return{field:String(e),width:200}})))[0].width=60,h[3].width=100,h[4].width=100,h[5].width=100,h[6].width=300,h[7].width=400,h[10]={},N=Object(Fe.a)(g)),r.a.createElement("div",{className:ta.a.API},r.a.createElement("h2",{className:ta.a.title},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"),r.a.createElement("div",{className:ta.a.wrapper},r.a.createElement("button",{className:ta.a.button,onClick:y,"data-content":"create"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"),r.a.createElement("button",{className:ta.a.button,onClick:y,"data-content":"edit"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c"),r.a.createElement("button",{className:ta.a.button,onClick:y,"data-content":"delete"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c")),r.a.createElement("div",{className:ta.a.filmsWrapper},r.a.createElement("h2",{className:ta.a.title},"\u0421\u043f\u0438\u0441\u043e\u043a \u0444\u0438\u043b\u044c\u043c\u043e\u0432"),r.a.createElement("div",{className:ta.a.films},r.a.createElement("div",{style:{height:800,width:"100%"}},g.length&&r.a.createElement(na.a,{rows:N,columns:h,rowHeight:25,checkboxSelection:!0})))),r.a.createElement(ea,{title:m,toggleModalHadler:y,isModalOpen:n},"create"===d&&r.a.createElement(We,{formSubmit:F,message:_}),"edit"===d&&r.a.createElement(Xe,{formSubmit:F,formChange:function(e){var a=e.target,t=e.currentTarget;if("id"===a.name){var n=a.value;t.button.disabled=!0,k.instance.get("/find/{id}?id=".concat(n)).then((function(e){var a=e.data;t.country.value=a.search[0].country,t.description.value=a.search[0].description,t.genres.value=Object(Fe.a)(a.search[0].genres.map((function(e){return e.name}))).join(", "),t.imdbID.value=a.search[0].imdbID,t.poster.value=a.search[0].poster,t.video.value=a.search[0].video,t.title.value=a.search[0].title,t.titleEn.value=a.search[0].titleEn,t.type.value=a.search[0].type,t.year.value=a.search[0].year,t.button.disabled=!1})).catch((function(){t.country.value="",t.description.value="",t.genres.value="",t.imdbID.value="",t.poster.value="",t.video.value="",t.title.value="",t.titleEn.value="",t.type.value="",t.year.value="",t.button.disabled=!1}))}},message:_}),"delete"===d&&r.a.createElement(Ke,{formSubmit:F,message:_})))},la=function(e){var a=e.user,t=e.onImageChange,n=e.onButtonClick,l=a.avatar?a.avatar:"https://www.tclilibrary.com/admin2/dist/use.png";return r.a.createElement("section",{className:"profile-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile-about"},r.a.createElement("h1",{className:"page-title"},"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement("div",{className:"profile-about__wrapper"},r.a.createElement("div",{className:"profile-about__aside"},r.a.createElement("div",{className:"profile-info"},r.a.createElement("div",{className:"profile-info__image-wrapper"},r.a.createElement("label",null,r.a.createElement("input",{name:"avatar",type:"file",style:{display:"none"},accept:".jpg, .jpeg, .png",onChange:t}),r.a.createElement("img",{className:"profile-info__image",src:l,alt:a.name}))),r.a.createElement("button",{className:"profile-info__logout",onClick:n},"\u0412\u044b\u0439\u0442\u0438"),r.a.createElement("div",{className:"profile-info__name"},a.name))),r.a.createElement("div",{className:"profile-about__content"},a.isAdmin?r.a.createElement(ra,null):null)))))},ia=function(){var e=Object(c.b)(),a=Object(c.c)((function(e){return e.users})).user,t=function(){var a=Object(O.a)(C.a.mark((function a(t){var n,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.preventDefault(),n=t.target["user-name"].value,r=t.target.password.value,e(ae({login:n,password:r}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return a?r.a.createElement(la,{onFormSubmit:t,onImageChange:function(t){var n,r=new FormData;r.append("avatar",t.target.files[0]),r.append("id",a.id),a.avatar&&r.append("url",a.avatar.split("/").reverse()[0]),e((n=r,function(e){Q.setUserAvatar(n).then((function(a){return e(ne(a))}))}))},onButtonClick:function(){e(te(null)),ee("login"),ee("password")},user:a}):r.a.createElement(Re,{onFormSubmit:t})};var ca=function(){return r.a.createElement(re,null,r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"/film/:title",component:Ae}),r.a.createElement(y.a,{path:"/profile/",component:ia}),r.a.createElement(y.a,{path:"/",component:Le})))},oa=(t(162),r.a.createElement(o.a,null,r.a.createElement(c.a,{store:F},r.a.createElement(ca,null))));i.a.render(oa,document.getElementById("root"))},25:function(e,a,t){e.exports={FilmDetail:"FilmDetail_FilmDetail__Pavxa",FilmDetailTop:"FilmDetail_FilmDetailTop__1ll3G",FilmDetailImageWrapper:"FilmDetail_FilmDetailImageWrapper__1U1Ez",FilmDetailImage:"FilmDetail_FilmDetailImage__31692",FilmDetailRight:"FilmDetail_FilmDetailRight__2D7kY",FilmDetailField:"FilmDetail_FilmDetailField__4jO6v",FilmDetailFieldItem:"FilmDetail_FilmDetailFieldItem__3fbd7",FilmDetailFieldItemName:"FilmDetail_FilmDetailFieldItemName__T4jus",FilmDetailFieldItemValue:"FilmDetail_FilmDetailFieldItemValue__CBBY9",FilmDetailBottom:"FilmDetail_FilmDetailBottom__39Cwz",FilmDetailDescription:"FilmDetail_FilmDetailDescription__2EXpy",FilmDetailLink:"FilmDetail_FilmDetailLink__1wT6Z",id:"FilmDetail_id__1_PtY"}},26:function(e,a,t){e.exports={form:"EditFilm_form__2eg_g",input:"EditFilm_input__36SrA",message:"EditFilm_message__23vGL"}},36:function(e,a,t){e.exports={wrapper:"API_wrapper__1aSB6",title:"API_title__1ZQn5",button:"API_button__1LxHb"}},47:function(e,a,t){e.exports={form:"CreateFilm_form__1PTed",input:"CreateFilm_input__3ONeu",message:"CreateFilm_message__1nvVn"}},72:function(e,a,t){e.exports={Search:"Search_Search__di4ea",Dropdown:"Search_Dropdown__2lVVF",Link:"Search_Link__1EHio"}},73:function(e,a,t){e.exports={FilmCard:"FilmCard_FilmCard__2XgCu",FilmCardHover:"FilmCard_FilmCardHover__2yfUH",FilmInfo:"FilmCard_FilmInfo__BovdC"}},74:function(e,a,t){e.exports={form:"DeleteFilm_form__1sx6O",input:"DeleteFilm_input__rF2rW",message:"DeleteFilm_message__CdqAR"}},81:function(e,a,t){e.exports={Button:"Button_Button__MQwo6",error:"Button_error__2DMFG",success:"Button_success__2fmAL",primary:"Button_primary__ls6AW"}},82:function(e,a,t){e.exports={LoaderWrapper:"Loader_LoaderWrapper__3haqL",Loader:"Loader_Loader__2oUp4","lds-dual-ring":"Loader_lds-dual-ring__2hE87"}},83:function(e,a,t){e.exports={FilmsContainer:"FilmsContainer_FilmsContainer__3_xWo",FilmLibWrapper:"FilmsContainer_FilmLibWrapper__3KE48",show:"FilmsContainer_show__2Vcp8"}}},[[132,1,2]]]);
//# sourceMappingURL=main.30e6cd24.chunk.js.map