{"version":3,"sources":["components/Nav/Search/Search.module.css","components/FilmCard/FilmCard.module.scss","components/API/DeleteFilm/DeleteFilm.module.css","components/UI/Button/Button.module.css","components/Loader/Loader.module.scss","containers/FilmsContainer/FilmsContainer.module.scss","components/UI/Input/Input.module.scss","containers/Layout/Layout.module.css","routes/IndexPage/IndexPage.module.scss","containers/FilmDetail/FilmDetail.module.scss","components/API/EditFilm/EditFilm.module.css","redux/reducers/films.js","redux/reducers/pagination.js","redux/reducers/search.js","redux/reducers/users.js","redux/reducers/index.js","redux/store.js","components/UI/Logo/Logo.jsx","api/filmApi.js","redux/actions/search.js","components/UI/Input/Input.js","components/Nav/Search/Search.js","utils/useDebouncedEffect.js","components/Nav/Menu/Menu.jsx","components/Nav/Hamburger/Hamburger.jsx","components/Header/Header.js","components/Footer/Footer.jsx","api/begetApi.js","utils/functions.js","redux/actions/users.js","containers/Layout/Layout.js","components/Hero/Hero.jsx","routes/IndexPage/IndexPage.jsx","components/UI/Button/Button.js","components/FilmCard/FilmCard.js","components/Loader/Loader.js","components/FilmCard/FilmCardPlaceholder.js","api/IMDBAlternative.js","redux/actions/films.js","containers/FilmsContainer/FilmsContainer.js","redux/selectors/films.js","redux/actions/pagination.js","containers/FilmDetail/FilmDetailFieldItem.jsx","components/VideoPlayer/VideoPlayer.jsx","containers/FilmDetail/FilmDetail.js","hoc/withAuth/withAuth.js","components/API/CreateFilm/CreateFilm.jsx","components/API/EditFilm/EditFilm.jsx","components/API/DeleteFilm/DeleteFilm.jsx","components/Modal/Modal.jsx","components/API/API.jsx","components/Profile/Profile.jsx","containers/ProfileContainer/ProfileContainer.js","routes/ProfilePage/ProfilePage.jsx","components/Auth/Auth.jsx","routes/AuthPage/AuthPage.jsx","App.js","index.js","components/API/API.module.css","components/API/CreateFilm/CreateFilm.module.css","img/hero-img.png"],"names":["module","exports","initialState","items","activeItem","isLoaded","totalItems","films","state","action","type","payload","page","pageSize","pagination","searchText","searchItems","search","user","users","avatar","rootReducer","combineReducers","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Logo","to","className","viewBox","xmlns","d","instance","axios","create","baseURL","headers","filmApi","getFilmsPage","size","a","get","then","res","data","searchFilms","title","searchFilmsPageable","setSearchText","setSearchItems","Input","props","classes","name","value","placeholder","autoComplete","onChange","required","Search","dispatch","useDispatch","ref","useRef","history","useHistory","useSelector","effect","delay","deps","callback","useCallback","useEffect","handler","setTimeout","clearTimeout","useDebouncedEffect","linkClickHandler","formSubmitHandler","event","preventDefault","length","push","onSubmit","target","Dropdown","map","filmLink","key","id","data-title","Link","onClick","links","link","Menu","isMenuOpen","toggleMenuHandler","classNames","menu","index","Hamburger","hamburger","Header","useState","setIsMenuOpen","Footer","begetApi","getUser","login","password","setUserAvatar","post","response","url","getCookie","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","options","path","expires","Date","toUTCString","updatedCookie","encodeURIComponent","optionKey","optionValue","deleteCookie","fetchUser","status","setUser","alert","message","Layout","children","Hero","src","heroBackground","alt","IndexPage","FilmsContainer","Button","cls","join","disabled","FilmCard","poster","filmName","FilmCardHover","onMouseEnter","FilmInfo","filmYear","Loader","LoaderWrapper","FilmCardPlaceholder","height","x","y","rx","ry","width","IMDBAlternative","getFilm","imdbID","fetchFilms","setFilms","fetchFilmIMDBFields","film","setActiveFilm","totalResults","getFilms","totalFilms","getTotalFilms","load","React","handlePageClick","pageNumber","template","activePage","itemsCountPerPage","totalItemsCount","hideNavigation","bind","this","FilmLibWrapper","year","loadingTemplate","FilmDetailFieldItem","FilmDetailFieldItemName","FilmDetailFieldItemValue","VideoPlayer","source","sources","youtubeId","provider","FilmDetail","memo","params","FilmDetailWrapper","FilmDetailTop","FilmDetailImageWrapper","FilmDetailImage","FilmDetailRight","titleEn","FilmDetailField","country","Actors","href","rel","imdbRating","Metascore","Genre","Runtime","Rated","description","FilmDetailLink","video","withAuth","Component","WithAuth","connect","CreateFilm","styles","formSubmit","TextField","input","label","variant","rows","multiline","color","startIcon","EditFilm","formChange","InputLabelProps","shrink","DeleteFilm","Modal","modal","isModalOpen","currentTarget","toggleModalHadler","API","setIsModalOpen","modalTitle","setModalTitle","modalContent","setModalContent","setMessage","columns","movieItem","Country","genres","split","genre","Poster","Title","Type","Year","reset","put","catch","error","console","warn","delete","innerText","dataset","content","Object","keys","field","String","wrapper","button","data-content","filmsWrapper","style","rowHeight","checkboxSelection","currentTaget","item","Profile","onImageChange","onButtonClick","image","display","accept","isAdmin","ProfileContainer","formData","FormData","append","files","reverse","AuthForm","handleSubmit","pristine","submitting","Field","component","reduxForm","Auth","AuthPage","App","ProfilePage","app","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2ab266ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__di4ea\",\"Dropdown\":\"Search_Dropdown__2lVVF\",\"Link\":\"Search_Link__1EHio\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilmCard\":\"FilmCard_FilmCard__2XgCu\",\"FilmCardHover\":\"FilmCard_FilmCardHover__2yfUH\",\"FilmInfo\":\"FilmCard_FilmInfo__BovdC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"DeleteFilm_form__1sx6O\",\"input\":\"DeleteFilm_input__rF2rW\",\"message\":\"DeleteFilm_message__CdqAR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__MQwo6\",\"error\":\"Button_error__2DMFG\",\"success\":\"Button_success__2fmAL\",\"primary\":\"Button_primary__ls6AW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderWrapper\":\"Loader_LoaderWrapper__3haqL\",\"Loader\":\"Loader_Loader__2oUp4\",\"lds-dual-ring\":\"Loader_lds-dual-ring__2hE87\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilmsContainer\":\"FilmsContainer_FilmsContainer__3_xWo\",\"FilmLibWrapper\":\"FilmsContainer_FilmLibWrapper__3KE48\",\"show\":\"FilmsContainer_show__2Vcp8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__1C9aY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__3gHwl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilmsContainer\":\"IndexPage_FilmsContainer__1Vx8o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilmDetail\":\"FilmDetail_FilmDetail__Pavxa\",\"FilmDetailTop\":\"FilmDetail_FilmDetailTop__1ll3G\",\"FilmDetailImageWrapper\":\"FilmDetail_FilmDetailImageWrapper__1U1Ez\",\"FilmDetailImage\":\"FilmDetail_FilmDetailImage__31692\",\"FilmDetailRight\":\"FilmDetail_FilmDetailRight__2D7kY\",\"FilmDetailField\":\"FilmDetail_FilmDetailField__4jO6v\",\"FilmDetailFieldItem\":\"FilmDetail_FilmDetailFieldItem__3fbd7\",\"FilmDetailFieldItemName\":\"FilmDetail_FilmDetailFieldItemName__T4jus\",\"FilmDetailFieldItemValue\":\"FilmDetail_FilmDetailFieldItemValue__CBBY9\",\"FilmDetailBottom\":\"FilmDetail_FilmDetailBottom__39Cwz\",\"FilmDetailDescription\":\"FilmDetail_FilmDetailDescription__2EXpy\",\"FilmDetailLink\":\"FilmDetail_FilmDetailLink__1wT6Z\",\"id\":\"FilmDetail_id__1_PtY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"EditFilm_form__2eg_g\",\"input\":\"EditFilm_input__36SrA\",\"message\":\"EditFilm_message__23vGL\"};","const initialState = {\r\n  items: [],\r\n  activeItem: null,\r\n  isLoaded: false,\r\n  totalItems: 0,\r\n};\r\n\r\nconst films = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_FILMS\":\r\n      return {\r\n        ...state,\r\n        items: action.payload.items,\r\n        totalItems: action.payload.totalItems,\r\n        isLoaded: true,\r\n      };\r\n\r\n    case \"SET_ACTIVE_FILM\":\r\n      return {\r\n        ...state,\r\n        activeItem: action.payload,\r\n      };\r\n\r\n    case \"SET_LOADED\":\r\n      return {\r\n        ...state,\r\n        isLoaded: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default films;\r\n","const initialState = {\r\n  page: 1,\r\n  pageSize: 12,\r\n};\r\n\r\nconst pagination = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_PAGE':\r\n      return {\r\n        ...state,\r\n        page: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default pagination;\r\n","const initialState = {\r\n  searchText: \"\",\r\n  searchItems: [],\r\n};\r\n\r\nconst search = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_SEARCH_TEXT\":\r\n      return {\r\n        ...state,\r\n        searchText: action.payload,\r\n      };\r\n\r\n    case \"SET_SEARCH_ITEMS\":\r\n      return {\r\n        ...state,\r\n        searchItems: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default search;\r\n","const initialState = {\r\n  user: null,\r\n};\r\n\r\nconst users = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n      };\r\n\r\n    case 'SET_USER_AVATAR':\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          avatar: action.payload,\r\n        },\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default users;\r\n","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form'\r\n\r\nimport films from './films';\r\nimport pagination from './pagination';\r\nimport search from './search';\r\nimport users from './users';\r\n\r\nconst rootReducer = combineReducers({\r\n  films: films,\r\n  pagination: pagination,\r\n  search:search,\r\n  users: users,\r\n  form: formReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","import { applyMiddleware, compose, createStore } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Logo = () => (\r\n  <NavLink to=\"/\" className=\"logo\">\r\n    <svg className=\"logo__svg\" viewBox=\"0 0 80 67\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path d=\"M65.356 38.7048H61.3287V33.9083C66.8456 30.8006 70.5823 24.8877 70.5823 18.115C70.5823 8.1263 62.4598 0 52.4757 0C44.4803 0 37.6834 5.21366 35.2912 12.4196C32.8987 5.21366 26.102 0.000222284 18.1066 0.000222284C8.12253 0.000222284 0 8.12652 0 18.115C0 24.8877 3.7367 30.8004 9.25339 33.9081V67H61.3285V59.0652H65.9613L80 66.6146V31.1963L65.356 38.7048ZM24.4999 27.9578L18.1066 24.1024L11.7134 27.9578L13.4027 20.6834L7.76196 15.7915L15.1994 15.151L18.1066 8.27242L21.0137 15.151L28.4511 15.7915L22.8104 20.6834L24.4999 27.9578ZM31.0449 30.7702C32.9476 28.8235 34.4144 26.4513 35.2912 23.8104C36.1679 26.451 37.6347 28.8235 39.5374 30.7702H31.0449ZM57.1796 20.6834L58.8689 27.9578L52.4757 24.1024L46.0825 27.9578L47.7717 20.6834L42.131 15.7915L49.5684 15.151L52.4755 8.27242L55.3825 15.151L62.8199 15.7915L57.1796 20.6834Z\" />\r\n    </svg>\r\n    <div className=\"logo__text-wrapper\">\r\n      <p className=\"logo__big-text\">Кавказский</p>\r\n      <p className=\"logo__text\">кинопоиск</p>\r\n    </div>\r\n  </NavLink>\r\n);\r\n\r\nexport default Logo;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://film-api-backend.herokuapp.com/movies/',\r\n    headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\nconst filmApi = {\r\n    instance: instance,\r\n    getFilmsPage: async (page, size) => {\r\n        return await instance.get(`/page=${page}/size=${size}`).then((res) => res.data);\r\n    },\r\n\r\n    searchFilms: async title => {\r\n        return await instance.get(`/find?title=${title}`).then((res) => res.data.search);\r\n    },\r\n\r\n    searchFilmsPageable: async (title, size, page = 1) => {\r\n        return await instance.get(`/page=${page}/size=${size}//find?title=${title}`)\r\n            .then((res) => res.data.search);\r\n    },\r\n};\r\n\r\nexport default filmApi;\r\n","import filmApi from '../../api/filmApi';\r\n\r\nexport const fetchSearchFilmsByTitle = (payload) => (dispatch) => {\r\n  return filmApi.searchFilmsPageable(payload, 10).then((data) => {\r\n    dispatch(setSearchItems(data));\r\n  });\r\n};\r\n\r\nexport const setSearchText = (payload) => ({\r\n  type: 'SET_SEARCH_TEXT',\r\n  payload,\r\n});\r\n\r\nexport const setSearchItems = (payload) => ({\r\n  type: 'SET_SEARCH_ITEMS',\r\n  payload,\r\n});\r\n","import React from 'react';\r\nimport classes from './Input.module.scss';\r\n\r\nconst Input = (props) => {\r\n  const type = props.type || 'text';\r\n\r\n  return (\r\n    <input\r\n      className={classes.Input}\r\n      type={type}\r\n      name={props.name}\r\n      value={props.value}\r\n      placeholder={props.placeholder}\r\n      autoComplete={props.autoComplete}\r\n      onChange={props.onChange}\r\n      required={props.required}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React, {useRef} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {Link, useHistory} from 'react-router-dom';\r\n\r\nimport {fetchSearchFilmsByTitle, setSearchItems, setSearchText} from '../../../redux/actions/search';\r\nimport {useDebouncedEffect} from \"../../../utils/useDebouncedEffect\";\r\nimport Input from '../../UI/Input/Input';\r\nimport classes from './Search.module.css';\r\n\r\nconst Search = () => {\r\n    const dispatch = useDispatch();\r\n    const ref = useRef();\r\n    const history = useHistory();\r\n\r\n    const {searchText, searchItems} = useSelector(({search}) => search);\r\n\r\n    useDebouncedEffect(() => {\r\n        if (searchText) {\r\n            dispatch(fetchSearchFilmsByTitle(searchText))\r\n        } else {\r\n            dispatch(setSearchItems([]));\r\n        }\r\n    }, 300, [dispatch, searchText])\r\n\r\n    const renderFilmList = () => searchItems.map((filmLink) => {\r\n        return (\r\n            <li key={filmLink.id} data-title={filmLink.title}>\r\n                <Link to={`/films/${filmLink.title}`} className={classes.Link} onClick={linkClickHandler}>\r\n                    {filmLink.title}\r\n                </Link>\r\n            </li>\r\n        );\r\n    });\r\n\r\n    const linkClickHandler = async () => {\r\n        dispatch(setSearchText(''));\r\n    };\r\n\r\n    const formSubmitHandler = async (event) => {\r\n        event.preventDefault();\r\n\r\n        if (searchItems.length) {\r\n            const title = searchItems[0].title;\r\n            dispatch(setSearchText(''));\r\n            history.push(`/film/${title}`);\r\n        }\r\n    };\r\n\r\n    const inputChangeHandler = (event) => {\r\n        dispatch(setSearchText(event.target.value));\r\n    };\r\n\r\n    return (\r\n        <div className={classes.Search}>\r\n            <form onSubmit={formSubmitHandler}>\r\n                <Input value={searchText} placeholder={'Введите название фильма'} onChange={inputChangeHandler}/>\r\n                <ul className={classes.Dropdown} ref={ref}>\r\n                    {renderFilmList()}\r\n                </ul>\r\n                <button></button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Search;\r\n","import { useCallback, useEffect } from \"react\";\r\n\r\nexport const useDebouncedEffect = (effect, delay , deps) => {\r\n    const callback = useCallback(effect, deps);\r\n\r\n    useEffect(() => {\r\n        const handler = setTimeout(() => {\r\n            callback();\r\n        }, delay);\r\n\r\n        return () => {\r\n            clearTimeout(handler);\r\n        };\r\n    }, [callback, delay]);\r\n}","import React from 'react';\r\nimport classNames from 'classnames';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst links = [\r\n  { name: 'Главная', link: '/' },\r\n  { name: 'Фильмы', link: '/films' },\r\n  { name: 'Профиль', link: '/profile' },\r\n];\r\n\r\nconst Menu = ({ isMenuOpen, toggleMenuHandler }) => {\r\n  return (\r\n    <div className={classNames({ menu: true, 'menu--active': isMenuOpen })}>\r\n      <nav className=\"nav\">\r\n        <ul className=\"nav__list\">\r\n          {links.map((link, index) => (\r\n            <li className=\"nav__item\" key={index}>\r\n              <Link to={link.link} className=\"nav__link\" onClick={toggleMenuHandler}>\r\n                {link.name}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst Hamburger = ({ isMenuOpen, toggleMenuHandler }) => {\r\n  return (\r\n    <div\r\n      onClick={toggleMenuHandler}\r\n      className={classNames({\r\n        hamburger: true,\r\n        \"hamburger--active\": isMenuOpen,\r\n      })}\r\n    >\r\n      <div className=\"hamburger__item\"></div>\r\n      <div className=\"hamburger__item\"></div>\r\n      <div className=\"hamburger__item\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Hamburger;\r\n","import React, {useState} from \"react\";\r\n\r\nimport Logo from \"../UI/Logo/Logo\";\r\nimport Search from \"../Nav/Search/Search\";\r\nimport Menu from \"../Nav/Menu/Menu\";\r\nimport Hamburger from \"../Nav/Hamburger/Hamburger\";\r\n\r\nexport default function Header() {\r\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n    const toggleMenuHandler = () => setIsMenuOpen(!isMenuOpen);\r\n\r\n    return (\r\n        <>\r\n            <header className=\"header\">\r\n                <div className=\"container\">\r\n                    <div className=\"header__wrapper\">\r\n                        <Logo/>\r\n                        <Search/>\r\n                        <Hamburger\r\n                            isMenuOpen={isMenuOpen}\r\n                            toggleMenuHandler={toggleMenuHandler}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </header>\r\n            <Menu isMenuOpen={isMenuOpen} toggleMenuHandler={toggleMenuHandler}/>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Footer = (props) => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <div className=\"container\">\r\n        <div className=\"footer__wrapper\">\r\n          <NavLink to=\"/\" className=\"logo\">\r\n            <div className=\"logo__text-wrapper\">\r\n              <p className=\"logo__big-text\">Кавказский</p>\r\n              <p className=\"logo__text\">кинопоиск</p>\r\n            </div>\r\n          </NavLink>\r\n          <div className=\"copyright\">\r\n            <p className=\"copyright__top\">Разработанно в студии</p>\r\n            <p className=\"copyright__bottom\">Не твоих собачьих дел</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://w91691o1.beget.tech/api/v1/',\r\n});\r\n\r\nconst begetApi = {\r\n    getUser: async (login, password) => {\r\n        return await instance.get(`users/?u=${login}&p=${password}`).then((res) => res.data);\r\n    },\r\n\r\n    setUserAvatar: async (data) => {\r\n        return await instance.post('users/', data).then((response) => response.data.url);\r\n    },\r\n};\r\n\r\nexport default begetApi;\r\n","export function getCookie(name) {\r\n  let matches = document.cookie.match(\r\n    new RegExp('(?:^|; )' + name.replace(/([.$?*|{}()[\\]\\\\/+^])/g, '\\\\$1') + '=([^;]*)')\r\n  );\r\n  return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nexport function setCookie(name, value, options = {}) {\r\n  options = {\r\n    path: '/',\r\n    // при необходимости добавьте другие значения по умолчанию\r\n    ...options,\r\n  };\r\n\r\n  if (options.expires instanceof Date) {\r\n    options.expires = options.expires.toUTCString();\r\n  }\r\n\r\n  let updatedCookie = encodeURIComponent(name) + '=' + encodeURIComponent(value);\r\n\r\n  for (let optionKey in options) {\r\n    updatedCookie += '; ' + optionKey;\r\n    let optionValue = options[optionKey];\r\n    if (optionValue !== true) {\r\n      updatedCookie += '=' + optionValue;\r\n    }\r\n  }\r\n\r\n  document.cookie = updatedCookie;\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n  setCookie(name, '', {\r\n    'max-age': -1,\r\n  });\r\n}\r\n","import begetApi from '../../api/begetApi';\r\nimport { setCookie } from '../../utils/functions';\r\n\r\nexport const fetchUser = (payload) => (dispatch) => {\r\n  begetApi.getUser(payload.login, payload.password).then((data) => {\r\n    if (data.status === 1) {\r\n      setCookie('login', payload.login);\r\n      setCookie('password', payload.password);\r\n\r\n      dispatch(setUser(data));\r\n    } else alert(data.message)\r\n  });\r\n};\r\n\r\nexport const fetchUpdateUserAvatar = (payload) => (dispatch) => {\r\n  begetApi.setUserAvatar(payload).then((data) => dispatch(setUserAvatar(data)));\r\n};\r\n\r\nexport const setUser = (payload) => {\r\n  return {\r\n    type: 'SET_USER',\r\n    payload,\r\n  };\r\n};\r\n\r\nexport const setUserAvatar = (payload) => ({\r\n  type: 'SET_USER_AVATAR',\r\n  payload,\r\n});\r\n","import React from 'react';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport Header from '../../components/Header/Header';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport classes from './Layout.module.css';\r\n\r\nimport {fetchUser} from '../../redux/actions/users';\r\nimport {getCookie} from '../../utils/functions';\r\n\r\nconst Layout = (props) => {\r\n    const dispatch = useDispatch();\r\n\r\n    if (getCookie('login')) {\r\n        const login = getCookie('login');\r\n        const password = getCookie('password');\r\n\r\n        dispatch(fetchUser({login, password}));\r\n    }\r\n\r\n    return (\r\n        <div className={classes.Layout}>\r\n            <Header/>\r\n            <main>{props.children}</main>\r\n            <Footer/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Layout;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport heroBackground from \"../../img/hero-img.png\";\r\n\r\nconst Hero = ({link, ...props}) => (\r\n    <section className=\"hero\">\r\n        <div className=\"container\">\r\n            {\r\n                link\r\n                    ? <Link to={link} className=\"hero__wrapper\">\r\n                        <div className=\"hero__image-wrapper\">\r\n                            <img className=\"hero__image\" src={heroBackground} alt=\"Стетхем\"/>\r\n                        </div>\r\n                        <div className=\"hero__text-wrapper\">\r\n                            {props.children}\r\n                        </div>\r\n                    </Link>\r\n                    : <div className=\"hero__wrapper\">\r\n                        <div className=\"hero__image-wrapper\">\r\n                            <img className=\"hero__image\" src={heroBackground} alt=\"Стетхем\"/>\r\n                        </div>\r\n                        <div className=\"hero__text-wrapper\">\r\n                            {props.children}\r\n                        </div>\r\n                    </div>\r\n            }\r\n        </div>\r\n    </section>\r\n)\r\n\r\nexport default Hero","import React from 'react';\r\n\r\nimport Hero from \"../../components/Hero/Hero\";\r\nimport classes from './IndexPage.module.scss';\r\n\r\nfunction IndexPage(props) {\r\n    return (\r\n        <div className={classes.FilmsContainer}>\r\n            <section className=\"hero\">\r\n                <div className=\"container\">\r\n                    <Hero link={'/films/'}>\r\n                        <p className=\"hero__text\">Пора начать смотреть</p>\r\n                        <p className=\"hero__big-text\"><b>МУЖИЦКИЕ</b> ФИЛЬМЫ</p>\r\n                    </Hero>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default IndexPage;\r\n","import React from \"react\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nconst Button = (props) => {\r\n  const cls = [classes.Button, classes[props.type]];\r\n\r\n  return (\r\n    <button\r\n      onClick={props.onClick}\r\n      className={cls.join(\" \")}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport classes from \"./FilmCard.module.scss\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Button from \"../UI/Button/Button\";\r\n\r\nconst FilmCard = (props) => {\r\n  return (\r\n    <div className={classes.FilmCard}>\r\n      <img src={props.poster} alt={props.filmName} />\r\n      <div className={classes.FilmCardHover} onMouseEnter={props.onMouseEnter}>\r\n        <div className={classes.FilmInfo}>\r\n          <NavLink to={\"/films/\" + props.title}>\r\n            <Button onClick={props.onClick}>Подробнее</Button>\r\n          </NavLink>\r\n          <h3>{props.filmName}</h3>\r\n          <p>{props.filmYear}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilmCard;\r\n","import React from \"react\";\r\nimport classes from \"./Loader.module.scss\";\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div className={classes.LoaderWrapper}>\r\n      <div className={classes.Loader}></div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\";\r\n\r\nconst FilmCardPlaceholder = () => (\r\n  <ContentLoader className=\"film-card-placeholder\" height=\"450\">\r\n    <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" height=\"100%\" width=\"100%\" />\r\n  </ContentLoader>\r\n);\r\n\r\nexport default FilmCardPlaceholder;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"https://movie-database-imdb-alternative.p.rapidapi.com/\",\r\n    headers: {\r\n        \"x-rapidapi-host\": \"movie-database-imdb-alternative.p.rapidapi.com\",\r\n        \"x-rapidapi-key\": \"421df21564mshec026f33dbed2d1p17da9djsn5014d3c84f92\"\r\n    },\r\n});\r\n\r\nconst IMDBAlternative = {\r\n    getFilm: (imdbID) => {\r\n        return instance.get(`?i=${imdbID}&r=json`).then(data => data.data);\r\n    }\r\n}\r\n\r\nexport default IMDBAlternative;\r\n","import filmApi from '../../api/filmApi';\r\nimport IMDBAlternative from '../../api/IMDBAlternative';\r\n\r\nexport const fetchFilms = (page = 1, size = 16) => (dispatch) => {\r\n  dispatch({ type: 'SET_LOADED', payload: false });\r\n\r\n  filmApi.getFilmsPage(page, size).then((data) => dispatch(setFilms(data)));\r\n};\r\n\r\nexport const fetchFilmByTitle = (title) => (dispatch) => {\r\n  filmApi.searchFilms(title).then((film) => dispatch(fetchFilmIMDBFields(film[0])));\r\n};\r\n\r\nexport const fetchFilmIMDBFields = (film) => (dispatch) => {\r\n  IMDBAlternative.getFilm(film.imdbID).then((data) => dispatch(setActiveFilm({ ...film, ...data })));\r\n};\r\n\r\nconst setFilms = (payload) => ({\r\n  type: 'SET_FILMS',\r\n  payload: {\r\n    items: [...payload.search],\r\n    totalItems: payload.totalResults,\r\n  },\r\n});\r\n\r\nexport const setActiveFilm = (payload) => ({\r\n  type: 'SET_ACTIVE_FILM',\r\n  payload,\r\n});\r\n\r\nexport const setLoaded = (payload) => ({\r\n  type: 'SET_LOADED',\r\n  payload,\r\n});\r\n","import React from 'react';\r\nimport Pagination from 'react-js-pagination';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport {setPage} from '../../redux/actions/pagination';\r\nimport FilmCard from '../../components/FilmCard/FilmCard';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport FilmCardPlaceholder from '../../components/FilmCard/FilmCardPlaceholder';\r\nimport classes from './FilmsContainer.module.scss';\r\n\r\nimport heroBackground from '../../img/hero-img.png';\r\nimport {fetchFilms} from '../../redux/actions/films';\r\nimport {getFilms, getTotalFilms} from \"../../redux/selectors/films\";\r\n\r\nfunction FilmsContainer() {\r\n    const dispatch = useDispatch();\r\n\r\n    const films = useSelector(state => getFilms(state))\r\n    const totalFilms = useSelector(state => getTotalFilms(state));\r\n    const load = useSelector(({films}) => films.isLoaded);\r\n    const {page, pageSize} = useSelector(({pagination}) => pagination);\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchFilms(page, pageSize));\r\n    }, [dispatch, page, pageSize]);\r\n\r\n    function renderFilms() {\r\n        return films.map((film) =>\r\n            <FilmCard key={film.id} title={film.title} poster={film.poster} filmName={film.title}\r\n                      filmYear={film.year}/>\r\n        )\r\n    }\r\n\r\n    const handlePageClick = (pageNumber) => {\r\n        if (pageNumber === page) return false;\r\n        dispatch(setPage(pageNumber));\r\n    };\r\n\r\n    const template = (\r\n        <div className=\"container\">\r\n            <Pagination\r\n                activePage={page}\r\n                itemsCountPerPage={pageSize}\r\n                totalItemsCount={totalFilms}\r\n                hideNavigation={true}\r\n                onChange={handlePageClick.bind(this)}\r\n            />\r\n            <div className={classes.FilmLibWrapper}>{renderFilms()}</div>\r\n            <Pagination\r\n                activePage={page}\r\n                itemsCountPerPage={pageSize}\r\n                totalItemsCount={totalFilms}\r\n                hideNavigation={true}\r\n                onChange={handlePageClick.bind(this)}\r\n            />\r\n        </div>\r\n    );\r\n\r\n    const loadingTemplate = (\r\n        <div className=\"loading\">\r\n            <div className=\"container\">\r\n                <Loader/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n                <FilmCardPlaceholder/>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className={classes.FilmsContainer}>\r\n            <section className=\"hero\">\r\n                <div className=\"container\">\r\n                    <div className=\"hero__wrapper\">\r\n                        <div className=\"hero__image-wrapper\">\r\n                            <img className=\"hero__image\" src={heroBackground} alt=\"Стетхем\"/>\r\n                        </div>\r\n                        <div className=\"hero__text-wrapper\">\r\n                            <p className=\"hero__text\">Лучше иметь друга,</p>\r\n                            <p className=\"hero__big-text\">\r\n                                чем <b>ДРУГ ДРУГА</b>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            {load ? template : loadingTemplate}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FilmsContainer;\r\n","export const getFilms = (state) => state.films.items\r\n\r\nexport const getTotalFilms = (state) => state.films.totalItems\r\n","export const setPage = (payload) => ({\r\n  type: \"SET_PAGE\",\r\n  payload,\r\n});\r\n","import React from \"react\";\r\n\r\nimport classes from \"./FilmDetail.module.scss\";\r\n\r\nfunction FilmDetailFieldItem({name, value}) {\r\n    return (\r\n        <div className={classes.FilmDetailFieldItem}>\r\n            <p className={classes.FilmDetailFieldItemName}>{name}</p>\r\n            <p className={classes.FilmDetailFieldItemValue}>{value}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FilmDetailFieldItem;\r\n","import React from \"react\";\r\nimport Plyr from \"plyr-react\";\r\n\r\nconst VideoPlayer = (props) => {\r\n    return <Plyr source={{\r\n        type: 'video',\r\n        sources: [\r\n            {\r\n                src: props.youtubeId,\r\n                provider: 'youtube',\r\n            },\r\n        ]\r\n    }}\r\n    />\r\n}\r\n\r\nexport default VideoPlayer","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport classes from './FilmDetail.module.scss';\r\nimport Loader from '../../components/Loader/Loader';\r\nimport FilmDetailFieldItem from './FilmDetailFieldItem';\r\nimport {fetchFilmByTitle, setActiveFilm} from '../../redux/actions/films';\r\nimport VideoPlayer from \"../../components/VideoPlayer/VideoPlayer\";\r\n\r\nconst FilmDetail = React.memo(function FilmDetail(props) {\r\n    const dispatch = useDispatch();\r\n\r\n    const {activeItem} = useSelector(({films}) => films);\r\n    const linkToImdb = (imdbID) =>\r\n        <a href={`https://www.imdb.com/title/${imdbID}`} target=\"_blank\" rel=\"noopener noreferrer\">Перейти</a>\r\n\r\n    React.useEffect(() => {\r\n        dispatch(fetchFilmByTitle(props.match.params.title));\r\n        return () => dispatch(setActiveFilm(null));\r\n    }, [dispatch, props.match.params.title]);\r\n\r\n    const template = () => (\r\n        <div className=\"container\">\r\n            <div className={classes.FilmDetailWrapper}>\r\n                <div className={classes.FilmDetailTop}>\r\n                    <div className={classes.FilmDetailImageWrapper}>\r\n                        <img className={classes.FilmDetailImage} src={activeItem.poster} alt={activeItem.title}/>\r\n                    </div>\r\n\r\n                    <div className={classes.FilmDetailRight}>\r\n                        <h1>{activeItem.title}</h1>\r\n                        <p>{activeItem.titleEn}</p>\r\n                        <span className={classes.id}>id: {activeItem.id}</span>\r\n\r\n                        <div className={classes.FilmDetailField}>\r\n                            <FilmDetailFieldItem name=\"Год\" value={activeItem.year}/>\r\n                            <FilmDetailFieldItem name=\"Страна\" value={activeItem.country}/>\r\n                            <FilmDetailFieldItem name=\"Актеры\" value={activeItem.Actors}/>\r\n                            <FilmDetailFieldItem name=\"IMDb\" value={linkToImdb(activeItem?.imdbID)}/>\r\n                            <FilmDetailFieldItem name=\"Рейтинг IMDb\" value={activeItem.imdbRating}/>\r\n                            <FilmDetailFieldItem name=\"Metascore\" value={activeItem.Metascore}/>\r\n                            <FilmDetailFieldItem name=\"Жанры\" value={activeItem.Genre}/>\r\n                            <FilmDetailFieldItem name=\"Длительность\" value={activeItem.Runtime}/>\r\n                            <FilmDetailFieldItem name=\"Рейтинг\" value={activeItem.Rated}/>\r\n                            <FilmDetailFieldItem name=\"Описание\" value={activeItem.description}/>\r\n                        </div>\r\n\r\n                        <Link to=\"/\" className={classes.FilmDetailLink}>Назад</Link>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"plyr-wrapper\">\r\n                    {activeItem.video && <VideoPlayer youtubeId={activeItem.video}/>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return <div className={classes.FilmDetail}>\r\n        {activeItem ? template() : <Loader/>}\r\n    </div>;\r\n});\r\n\r\nexport default FilmDetail;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst withAuth = (Component) => {\r\n  class WithAuth extends React.Component {\r\n\r\n    render() {\r\n      if (!this.props.user) return <Redirect to=\"/profile/auth/\" />;\r\n      return <Component {...this.props} user={this.props.user} />;\r\n    }\r\n  }\r\n\r\n  const mapStateToProps = (state) => {\r\n    return { user: state.users.user };\r\n  };\r\n\r\n  return connect(mapStateToProps)(WithAuth);\r\n};\r\n\r\nexport default withAuth;\r\n","import React from 'react';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\n\r\nimport styles from './CreateFilm.module.css';\r\n\r\nconst CreateFilm = (props) => {\r\n  return (\r\n    <form className={styles.form} onSubmit={props.formSubmit} name=\"create\">\r\n      {props.message && <p className={styles.message}>{props.message}</p>}\r\n      <TextField className={styles.input} name=\"imdbID\" label=\"imdbID\" variant=\"outlined\" required />\r\n      <TextField className={styles.input} name=\"title\" label=\"Название\" variant=\"outlined\" required />\r\n      <TextField className={styles.input} name=\"video\" label=\"Трейлер (youtube id)\" variant=\"outlined\" />\r\n      <TextField className={styles.input} name=\"description\" label=\"Описание\" variant=\"outlined\" rows={5} multiline />\r\n      <Button\r\n        name=\"button\"\r\n        type=\"submit\"\r\n        size=\"large\"\r\n        color=\"primary\"\r\n        variant=\"contained\"\r\n        startIcon={<CloudUploadIcon />}\r\n      >\r\n        Создать\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreateFilm;\r\n","import React from 'react';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\n\r\nimport styles from './EditFilm.module.css';\r\n\r\nconst EditFilm = (props) => {\r\n  return (\r\n    <form className={styles.form} onSubmit={props.formSubmit} name=\"edit\" onChange={props.formChange}>\r\n      {props.message && <p className={styles.message}>{props.message}</p>}\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"id\"\r\n        label=\"ID\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n        required\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"imdbID\"\r\n        label=\"imdbID\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"title\"\r\n        label=\"Название\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"titleEn\"\r\n        label=\"Название на английском\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"year\"\r\n        label=\"Год\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"country\"\r\n        label=\"Страна\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"poster\"\r\n        label=\"Обложка (url)\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"video\"\r\n        label=\"Трейлер (youtube key)\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"genres\"\r\n        label=\"Жанры (через запятую)\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"type\"\r\n        label=\"Тип (movie, series)\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n      />\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"description\"\r\n        label=\"Описание\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n        rows={5}\r\n        multiline\r\n      />\r\n      <Button name=\"button\" type=\"submit\" size=\"large\" color=\"primary\" variant=\"contained\" startIcon={<SaveIcon />}>\r\n        Сохранить\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditFilm;\r\n","import React from 'react';\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport styles from './DeleteFilm.module.css';\r\n\r\nconst DeleteFilm = (props) => {\r\n  return (\r\n    <form className={styles.form} onSubmit={props.formSubmit} name=\"delete\">\r\n      {props.message && <p className={styles.message}>{props.message}</p>}\r\n      <TextField\r\n        className={styles.input}\r\n        name=\"id\"\r\n        label=\"ID\"\r\n        variant=\"outlined\"\r\n        InputLabelProps={{ shrink: true }}\r\n        required\r\n      />\r\n      <Button name=\"button\" type=\"submit\" size=\"large\" color=\"primary\" variant=\"contained\" startIcon={<DeleteIcon />}>\r\n        Удалить\r\n      </Button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default DeleteFilm;\r\n","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\n\r\nconst Modal = (props) => {\r\n  const closeModal = (event) => {\r\n    if (event.target === event.currentTarget) {\r\n      props.toggleModalHadler();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classNames({ modal: true, 'modal--active': props.isModalOpen })} onClick={closeModal}>\r\n      <div className=\"modal-body\">\r\n        <div className=\"modal-top\">\r\n          <h4 className=\"modal-top__title\">{props.title}</h4>\r\n          <div className=\"modal-top__close-button\" onClick={props.toggleModalHadler} />\r\n        </div>\r\n        <div className=\"modal-content\">{props.children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\n\r\nimport CreateFilm from './CreateFilm/CreateFilm';\r\nimport EditFilm from './EditFilm/EditFilm';\r\nimport DeleteFilm from './DeleteFilm/DeleteFilm';\r\nimport Modal from '../Modal/Modal';\r\n\r\nimport styles from './API.module.css';\r\n\r\nimport IMDBAlternative from '../../api/IMDBAlternative';\r\nimport filmApi from '../../api/filmApi';\r\nimport {DataGrid} from '@material-ui/data-grid';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {fetchFilms} from '../../redux/actions/films';\r\n\r\nconst API = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [isModalOpen, setIsModalOpen] = React.useState(false);\r\n    const [modalTitle, setModalTitle] = React.useState(null);\r\n    const [modalContent, setModalContent] = React.useState(null);\r\n    const [message, setMessage] = React.useState(null);\r\n\r\n    const films = useSelector((store) => store.films.items);\r\n\r\n    React.useEffect(() => {\r\n        !isModalOpen && setMessage(null);\r\n\r\n        dispatch(fetchFilms(1, 50));\r\n    }, [dispatch, isModalOpen]);\r\n\r\n    const formChange = (event) => {\r\n        const target = event.target;\r\n        const currentTaget = event.currentTarget;\r\n\r\n        if (target.name === 'id') {\r\n            const id = target.value;\r\n            currentTaget.button.disabled = true;\r\n\r\n            filmApi.instance.get(`/find/{id}?id=${id}`)\r\n                .then(({data}) => {\r\n                    currentTaget.country.value = data.search[0].country;\r\n                    currentTaget.description.value = data.search[0].description;\r\n                    currentTaget.genres.value = [...data.search[0].genres.map((item) => item.name)].join(', ');\r\n                    currentTaget.imdbID.value = data.search[0].imdbID;\r\n                    currentTaget.poster.value = data.search[0].poster;\r\n                    currentTaget.video.value = data.search[0].video;\r\n                    currentTaget.title.value = data.search[0].title;\r\n                    currentTaget.titleEn.value = data.search[0].titleEn;\r\n                    currentTaget.type.value = data.search[0].type;\r\n                    currentTaget.year.value = data.search[0].year;\r\n\r\n                    currentTaget.button.disabled = false;\r\n                })\r\n                .catch(() => {\r\n                    currentTaget.country.value = '';\r\n                    currentTaget.description.value = '';\r\n                    currentTaget.genres.value = '';\r\n                    currentTaget.imdbID.value = '';\r\n                    currentTaget.poster.value = '';\r\n                    currentTaget.video.value = '';\r\n                    currentTaget.title.value = '';\r\n                    currentTaget.titleEn.value = '';\r\n                    currentTaget.type.value = '';\r\n                    currentTaget.year.value = '';\r\n\r\n                    currentTaget.button.disabled = false;\r\n                });\r\n        }\r\n    };\r\n\r\n    const formSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        const target = event.target;\r\n\r\n        let movieItem = {};\r\n\r\n        switch (target.name) {\r\n            case 'create':\r\n                IMDBAlternative.getFilm(target.imdbID.value).then((data) => {\r\n                    movieItem = {\r\n                        imdbID: target.imdbID.value,\r\n                        title: target.title.value,\r\n                        description: target.description.value,\r\n                        country: data.Country,\r\n                        genres: data.Genre.split(',').map((genre) => ({name: genre})),\r\n                        poster: data.Poster,\r\n                        titleEn: data.Title,\r\n                        type: data.Type,\r\n                        video: target.video.value,\r\n                        year: +data.Year,\r\n                    };\r\n\r\n                    filmApi.instance.post('create', movieItem).then(() => setMessage('Успешно'));\r\n                    return target.reset();\r\n                });\r\n                break;\r\n            case 'edit':\r\n                movieItem = {\r\n                    country: target.country.value,\r\n                    description: target.description.value,\r\n                    genres: target.genres.value.split(',').map((genre) => ({name: genre})),\r\n                    id: target.id.value,\r\n                    imdbID: target.imdbID.value,\r\n                    poster: target.poster.value,\r\n                    title: target.title.value,\r\n                    titleEn: target.titleEn.value,\r\n                    type: target.type.value,\r\n                    video: target.video.value,\r\n                    year: +target.year.value,\r\n                };\r\n\r\n                filmApi\r\n                    .instance.put(`update/${target.id.value}`, movieItem)\r\n                    .then(() => setMessage('Успешно'))\r\n                    .catch((error) => console.warn(error));\r\n\r\n                target.reset();\r\n                break;\r\n            case 'delete':\r\n                filmApi.instance.delete(`delete/${target.id.value}`).then(() => setMessage('Успешно'));\r\n                target.reset();\r\n                break;\r\n            default:\r\n                return console.warn('Нет такой формы');\r\n        }\r\n    };\r\n\r\n    const toggleModalHadler = (event) => {\r\n        setIsModalOpen(!isModalOpen);\r\n        setModalTitle(event?.target?.innerText || null);\r\n        setModalContent(event?.target?.dataset.content || null);\r\n    };\r\n\r\n    let columns, rows;\r\n\r\n    if (films.length) {\r\n        columns = Object.keys(films[0]).map((film) => ({field: String(film), width: 200}));\r\n\r\n        columns[0].width = 60;\r\n        columns[3].width = 100;\r\n        columns[4].width = 100;\r\n        columns[5].width = 100;\r\n        columns[6].width = 300;\r\n        columns[7].width = 400;\r\n        columns[10] = {};\r\n\r\n        rows = [...films];\r\n    }\r\n\r\n    return (\r\n        <div className={styles.API}>\r\n            <h2 className={styles.title}>Редактирование фильмов</h2>\r\n            <div className={styles.wrapper}>\r\n                <button className={styles.button} onClick={toggleModalHadler} data-content=\"create\">\r\n                    Добавить фильм\r\n                </button>\r\n                <button className={styles.button} onClick={toggleModalHadler} data-content=\"edit\">\r\n                    Изменить фильм\r\n                </button>\r\n                <button className={styles.button} onClick={toggleModalHadler} data-content=\"delete\">\r\n                    Удалить фильм\r\n                </button>\r\n            </div>\r\n            <div className={styles.filmsWrapper}>\r\n                <h2 className={styles.title}>Список фильмов</h2>\r\n                <div className={styles.films}>\r\n                    <div style={{height: 800, width: '100%'}}>\r\n                        {films.length && <DataGrid rows={rows} columns={columns} rowHeight={25} checkboxSelection/>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Modal title={modalTitle} toggleModalHadler={toggleModalHadler} isModalOpen={isModalOpen}>\r\n                {modalContent === 'create' && <CreateFilm formSubmit={formSubmit} message={message}/>}\r\n                {modalContent === 'edit' &&\r\n                <EditFilm formSubmit={formSubmit} formChange={formChange} message={message}/>}\r\n                {modalContent === 'delete' && <DeleteFilm formSubmit={formSubmit} message={message}/>}\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default API;\r\n","import React from 'react';\r\n\r\nimport API from '../API/API';\r\n\r\nconst Profile = ({ user, onImageChange, onButtonClick }) => {\r\n  const image = user.avatar ? user.avatar : 'https://www.tclilibrary.com/admin2/dist/use.png';\r\n\r\n  return (\r\n    <section className=\"profile-section\">\r\n      <div className=\"container\">\r\n        <div className=\"profile-about\">\r\n          <h1 className=\"page-title\">Личный кабинет</h1>\r\n          <div className=\"profile-about__wrapper\">\r\n            <div className=\"profile-about__aside\">\r\n              <div className=\"profile-info\">\r\n                <div className=\"profile-info__image-wrapper\">\r\n                  <label>\r\n                    <input\r\n                      name=\"avatar\"\r\n                      type=\"file\"\r\n                      style={{ display: 'none' }}\r\n                      accept=\".jpg, .jpeg, .png\"\r\n                      onChange={onImageChange}\r\n                    />\r\n                    <img className=\"profile-info__image\" src={image} alt={user.name} />\r\n                  </label>\r\n                </div>\r\n                <button className=\"profile-info__logout\" onClick={onButtonClick}>\r\n                  Выйти\r\n                </button>\r\n                <div className=\"profile-info__name\">{user.name}</div>\r\n              </div>\r\n            </div>\r\n            <div className=\"profile-about__content\">{user.isAdmin ? <API /> : null}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nimport Profile from '../../components/Profile/Profile';\r\nimport {deleteCookie} from '../../utils/functions';\r\n\r\nimport {fetchUpdateUserAvatar, setUser} from '../../redux/actions/users';\r\n\r\nconst ProfileContainer = ({user}) => {\r\n    const dispatch = useDispatch();\r\n\r\n    const imageChangeHandler = (event) => {\r\n        const formData = new FormData();\r\n\r\n        formData.append('avatar', event.target.files[0]);\r\n        formData.append('id', user.id);\r\n        user.avatar && formData.append('url', user.avatar.split('/').reverse()[0]);\r\n\r\n        dispatch(fetchUpdateUserAvatar(formData));\r\n    };\r\n\r\n    const buttonClickHandler = () => {\r\n        deleteCookie('login');\r\n        deleteCookie('password');\r\n        dispatch(setUser(null));\r\n    };\r\n\r\n    return (\r\n        <Profile\r\n            onImageChange={imageChangeHandler}\r\n            onButtonClick={buttonClickHandler}\r\n            user={user}\r\n        />\r\n    );\r\n};\r\n\r\nexport default ProfileContainer;\r\n","import React from 'react';\r\n\r\nimport withAuth from \"../../hoc/withAuth/withAuth\";\r\nimport ProfileContainer from \"../../containers/ProfileContainer/ProfileContainer\";\r\nimport Hero from \"../../components/Hero/Hero\";\r\n\r\nconst ProfilePage = (props) => {\r\n    return (\r\n        <>\r\n            <Hero>\r\n                <p className=\"hero__text\">Если волк молчит, то</p>\r\n                <p className=\"hero__big-text\">лучше его не <b>перебивать</b></p>\r\n            </Hero>\r\n            <ProfileContainer {...props} />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default withAuth(ProfilePage);\r\n","import React from 'react';\r\nimport {Button} from '@material-ui/core';\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {TextField} from '@jcoreio/redux-form-material-ui'\r\n\r\nlet AuthForm = ({handleSubmit, pristine, submitting}) => {\r\n    return (\r\n        <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n            <h2>Авторизация</h2>\r\n            <Field className=\"auth-form__input\" name=\"login\" type=\"text\" label=\"Ваш логин\" autoComplete=\"username\"\r\n                   component={TextField} required/>\r\n            <Field className=\"auth-form__input\" name=\"password\" type=\"password\" label=\"Ваш пароль\"\r\n                   autoComplete={'current-password'} component={TextField} required/>\r\n            <Button color=\"primary\" type=\"submit\" variant=\"contained\" disabled={pristine || submitting}>Войти</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nAuthForm = reduxForm({form: 'auth'})(AuthForm)\r\n\r\nconst Auth = ({formSubmitHandler}) => (\r\n    <section className=\"auth-section\">\r\n        <div className=\"container\">\r\n            <AuthForm onSubmit={formSubmitHandler}/>\r\n        </div>\r\n    </section>\r\n);\r\n\r\nexport default Auth;\r\n","import React from 'react';\r\n\r\nimport {fetchUser} from \"../../redux/actions/users\";\r\nimport Auth from \"../../components/Auth/Auth\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Hero from \"../../components/Hero/Hero\";\r\n\r\nfunction AuthPage(props) {\r\n    const dispatch = useDispatch()\r\n    const user = useSelector(({users}) => users.user)\r\n\r\n    React.useEffect(() => {\r\n        user && props.history.push('/profile/')\r\n    }, [user, props.history])\r\n\r\n    const formSubmitHandler = ({login, password}) => {\r\n        dispatch(fetchUser({login, password}));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Hero>\r\n                <p className=\"hero__text\">Лезешь в ВОЛКИ,</p>\r\n                <p className=\"hero__big-text\">а хвост <b>собачий</b></p>\r\n            </Hero>\r\n            <Auth formSubmitHandler={formSubmitHandler}/>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default AuthPage;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport Layout from './containers/Layout/Layout';\r\nimport IndexPage from \"./routes/IndexPage/IndexPage\";\r\nimport FilmsContainer from './containers/FilmsContainer/FilmsContainer';\r\nimport FilmDetail from './containers/FilmDetail/FilmDetail';\r\nimport ProfilePage from \"./routes/ProfilePage/ProfilePage\";\r\nimport AuthPage from \"./routes/AuthPage/AuthPage\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Layout>\r\n      <Switch>\r\n        <Route path=\"/films/:title\" component={FilmDetail} />\r\n        <Route path=\"/films/\" component={FilmsContainer} />\r\n        <Route path=\"/profile/auth\" component={AuthPage} />\r\n        <Route path=\"/profile/\" component={ProfilePage} />\r\n        <Route path=\"/\" component={IndexPage} />\r\n      </Switch>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport store from './redux/store';\r\nimport App from './App';\r\nimport './scss/styles.scss';\r\n\r\nconst app = (\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"API_wrapper__1aSB6\",\"title\":\"API_title__1ZQn5\",\"button\":\"API_button__1LxHb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"CreateFilm_form__1PTed\",\"input\":\"CreateFilm_input__3ONeu\",\"message\":\"CreateFilm_message__1nvVn\"};","module.exports = __webpack_public_path__ + \"static/media/hero-img.a3143511.png\";"],"sourceRoot":""}